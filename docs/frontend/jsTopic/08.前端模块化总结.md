---
title: 8. å‰ç«¯æ¨¡å—åŒ–æ€»ç»“
---
## æ¨¡å—åŒ–çš„ç†è§£
### ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–
* å°†ä¸€ä¸ªå¤æ‚çš„ç¨‹åºä¾æ®ä¸€å®šçš„è§„åˆ™(è§„èŒƒ)å°è£…æˆå‡ ä¸ªå—(æ–‡ä»¶)ï¼Œå¹¶è¿›è¡Œç»„åˆåœ¨ä¸€èµ·ï¼›
* å—çš„å†…éƒ¨æ•°æ®/å®ç°æ˜¯ç§æœ‰çš„ï¼Œåªæ˜¯å‘å¤–éƒ¨æš´éœ²ä¸€äº›æ¥å£(æ–¹æ³•)ä¸å¤–éƒ¨å…¶å®ƒæ¨¡å—é€šä¿¡ã€‚
### ä¸ºä»€ä¹ˆè¦æ¨¡å—åŒ–ï¼Ÿ
* é™ä½ä»£ç å¤æ‚åº¦ï¼›
* é™ä½ä»£ç çš„è€¦åˆåº¦ï¼›
### æ¨¡å—åŒ–çš„å¥½å¤„
* é¿å…å‘½åå†²çª(å‡å°‘å‘½åç©ºé—´æ±¡æŸ“ï¼Œå› ä¸ºæ¨¡å—ä¸­çš„æ•°æ®éƒ½æ˜¯ç§æœ‰çš„)ï¼›
* æ›´å¥½çš„åˆ†ç¦»ï¼ŒæŒ‰éœ€åŠ è½½ï¼›
* æ›´é«˜å¤ç”¨æ€§ï¼›
* é«˜å¯ç»´æŠ¤æ€§ã€‚

### æ¨¡å—åŒ–çš„ä¸€äº›é—®é¢˜
* è¯·æ±‚è¿‡å¤š(ç”±ä¸€ä¸ªæ¨¡å—æ‹†åˆ†å‡ºçš„å¤šä¸ªæ¨¡å—ï¼Œå¢åŠ äº†httpè¯·æ±‚æ•°é‡)ï¼›
* ä¾èµ–æ¨¡ç³Š(å„ä¸ªæ¨¡å—ä¹‹å‰çš„å¼•å…¥é¡ºåºä¸èƒ½é¢ å€’)ï¼›
* éš¾ä»¥ç»´æŠ¤ã€‚
## æ¨¡å—åŒ–çš„è¿›åŒ–å²
### å…¨å±€functionæ¨¡å¼
é—®é¢˜ï¼š**æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ï¼Œå®¹æ˜“å¼•èµ·å‘½åå†²çª**æˆ–æ•°æ®ä¸å®‰å…¨ï¼Œè€Œä¸”æ¨¡å—æˆå‘˜ä¹‹é—´çœ‹ä¸å‡ºç›´æ¥å…³ç³»ã€‚

æ¥çœ‹ä¸ªğŸŒ°ï¼š
```js
// module1.js
/**
 * å…¨å±€å‡½æ•°æ¨¡å¼: å°†ä¸åŒçš„åŠŸèƒ½å°è£…æˆä¸åŒçš„å…¨å±€å‡½æ•°
 * é—®é¢˜ï¼šGlobalè¢«æ±¡æŸ“äº†ï¼Œå®¹æ˜“å¼•èµ·å‘½åå†²çª
 */
var a = 'module1';
function foo() {
    console.log(`${a} foo`);
}
function bar() {
    console.log('module1 bar');
}
```
```js
// module2.js
var a = 'module2';
function foo() {
    console.log(`${a} foo`);
}
```
```html
<body>
    <script src="./module1.js"></script>
    <script src="./module2.js"></script>
    <script>
        foo(); // module2 foo
        bar(); // module1 bar
        a = 'test123';
        foo(); // test123 foo
    </script>
</body>
```
ä»ä¸Šè¿°ä¾‹å­çš„ç»“æœï¼Œå¯ä»¥å¾—å‡ºç»“è®ºï¼šå…¨å±€å‡½æ•°æ¨¡å¼å®¹æ˜“é€ æˆå‘½åå†²çªï¼Œä¼šå¯¼è‡´åè€…è¦†ç›–å‰è€…ï¼Œmodule2ä¸­çš„å˜é‡å’Œå‡½æ•°ä¼šè¦†ç›–module1ä¸­çš„ã€‚
### ç®€å•å°è£…ï¼šNamespaceæ¨¡å¼
```js
const myModule = {
  data: 'www.baidu.com',
  foo() {
    console.log(`foo() ${this.data}`)
  },
  bar() {
    console.log(`bar() ${this.data}`)
  }
}
myModule.data = 'other data' // èƒ½ç›´æ¥ä¿®æ”¹æ¨¡å—å†…éƒ¨çš„æ•°æ®
myModule.foo() // foo() other data
```
* ä½œç”¨: å‡å°‘äº†å…¨å±€å˜é‡æ•°é‡ï¼Œè§£å†³å‘½åå†²çªï¼›
* é—®é¢˜: æœ¬è´¨æ˜¯å¯¹è±¡ï¼Œä¸€ç‚¹éƒ½ä¸å®‰å…¨(å¤–éƒ¨å¯ä»¥ç›´æ¥ä¿®æ”¹æ¨¡å—å†…éƒ¨çš„æ•°æ®)ã€‚è¿™æ ·çš„å†™æ³•ä¼šæš´éœ²æ‰€æœ‰æ¨¡å—æˆå‘˜ï¼Œå†…éƒ¨çŠ¶æ€å¯ä»¥è¢«å¤–éƒ¨æ”¹å†™ã€‚

æ¥çœ‹ä¸ªğŸŒ°ï¼š
```js
/**
 * module1.js
 * namespaceæ¨¡å¼: ç®€å•å¯¹è±¡å°è£…
 * ä½œç”¨: å‡å°‘äº†å…¨å±€å˜é‡æ•°é‡
 * é—®é¢˜: ä¸å®‰å…¨(æ•°æ®ä¸æ˜¯ç§æœ‰çš„ï¼Œå¤–éƒ¨å¯ä»¥ç›´æ¥ä¿®æ”¹)
 */
const myModule = {
    name: 'module1',
    foo() {
        console.log(`foo() ${this.name}`);
    },
    bar() {
        console.log(`bar() ${this.name}`);
    }
}
```
```html
<body>
    <script src="./module1.js"></script>
    <script>
        myModule.foo(); // foo() module1
        myModule.bar(); // bar() module1
        // å¯ä»¥ç›´æ¥ä¿®æ”¹module1æ¨¡å—ä¸­çš„å˜é‡
        myModule.name = 'module666';
        myModule.foo(); // foo() module666
        myModule.bar(); // bar() module666
    </script>
</body>
```
### åŒ¿åå‡½æ•°è‡ªæ‰§è¡Œ(é—­åŒ…)ï¼šIIFEæ¨¡å¼
* ä½œç”¨: æ•°æ®æ˜¯ç§æœ‰çš„, å¤–éƒ¨åªèƒ½é€šè¿‡æš´éœ²çš„æ–¹æ³•æ“ä½œï¼›
* ç¼–ç : å°†æ•°æ®å’Œè¡Œä¸ºå°è£…åˆ°ä¸€ä¸ªå‡½æ•°å†…éƒ¨, é€šè¿‡ç»™windowæ·»åŠ å±æ€§æ¥å‘å¤–æš´éœ²æ¥å£ï¼›
* é—®é¢˜: å¦‚æœå½“å‰è¿™ä¸ªæ¨¡å—ä¾èµ–å¦ä¸€ä¸ªæ¨¡å—æ€ä¹ˆåŠ?

æ¥çœ‹ä¸ªğŸŒ°ï¼š
```js
var Module = (function(){
    var _private = 'å†…éƒ¨å˜é‡';
    var foo = function() {
        console.log(_private);
    }
    return {foo};
})();

Module.foo(); // å†…éƒ¨å˜é‡
Module._private; // undefined
```
å†çœ‹ä¸ªğŸŒ°ï¼š
```js
/**
 * IIFEæ¨¡å¼: åŒ¿åå‡½æ•°è‡ªæ‰§è¡Œ(é—­åŒ…)
 * IIFE : immediately-invoked function expression(ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼)
 * ä½œç”¨: æ•°æ®æ˜¯ç§æœ‰çš„ï¼Œå¤–éƒ¨åªèƒ½é€šè¿‡æš´éœ²çš„æ–¹æ³•æ“ä½œ
 * é—®é¢˜: å¦‚æœå½“å‰è¿™ä¸ªæ¨¡å—ä¾èµ–å¦ä¸€ä¸ªæ¨¡å—æ€ä¹ˆåŠ?
 */
;(function(window) {
    const a = 'module';
    // ç‰¹æƒæ–¹æ³•-æ“ä½œæ•°æ®çš„å‡½æ•°
    function foo() {
        console.log(`foo() ${a}`);
    }
    function bar() {
        console.log(`bar() ${a}`);
        fn();
    }
    // å†…éƒ¨ç§æœ‰å‡½æ•°
    function fn() {
        console.log('æˆ‘æ˜¯å†…éƒ¨ç§æœ‰å‡½æ•°');
    }
    // æš´éœ²å±æ€§å’Œæ–¹æ³•
    window.myModule = {foo, bar};
})(window)
```
```html
<body>
    <script src="./module.js"></script>
    <script>
        myModule.foo(); // foo() module
        myModule.bar(); // bar() module æˆ‘æ˜¯å†…éƒ¨ç§æœ‰å‡½æ•°
        console.log(myModule.a); // undefined ä¸èƒ½è®¿é—®æ¨¡å—å†…éƒ¨æ•°æ®aï¼Œå› ä¸ºæ²¡æœ‰å¯¹å¤–æš´éœ²a
        myModule.a = 'å…¨å±€'; // è¿™é‡Œä¸æ˜¯ä¿®æ”¹çš„æ¨¡å—å†…éƒ¨çš„a
        myModule.foo(); // foo() module
        // æ¨¡å—å†…éƒ¨çš„aå¹¶æ²¡æœ‰è¢«æ”¹å˜
    </script>
</body>
```
æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š
<img :src="$withBase('/js/js-module.png')" alt="">

å‡½æ•°æ˜¯JavaScriptå”¯ä¸€çš„å±€éƒ¨ä½œç”¨åŸŸ(Local Scope)ã€‚
### IIFEæ¨¡å¼å¢å¼º: å¼•å…¥ä¾èµ–
è¿™å°±æ˜¯æ¨¡å—æ¨¡å¼ï¼Œä¹Ÿæ˜¯ç°ä»£æ¨¡å—å®ç°çš„åŸºçŸ³ã€‚
æ¥çœ‹ä¸ªğŸŒ°ï¼š
```js
var Module = (function($) {
    var _$body = $('body'); // we can use jQuery now!
    var foo = function(){
        console.log(_$body); // ç‰¹æƒæ–¹æ³•
    }
    return {foo};
})(jQuery);

Module.foo();
```
å†çœ‹ä¸ªğŸŒ°ï¼š
```js
/**
 * module.js
 * IIFEæ¨¡å¼å¢å¼º: å¼•å…¥ä¾èµ–
 * å¼•å…¥ä¾èµ–çš„å½¢å¼æ˜¯é€šè¿‡å½¢å‚æ¥å¼•å…¥çš„
 * è¿™æ˜¯ç°ä»£æ¨¡å—åŒ–å®ç°çš„åŸºçŸ³
 */
;(function(window, $) {
    const a = 'module';
    // ç‰¹æƒæ–¹æ³•-æ“ä½œæ•°æ®çš„å‡½æ•°
    function foo() {
        console.log(`foo() ${a}`);
        $('body').css('background', 'yellow');
    }
    function bar() {
        console.log(`bar() ${a}`);
        fn(); // è°ƒç”¨å†…éƒ¨ç§æœ‰å‡½æ•°
    }
    // å†…éƒ¨ç§æœ‰å‡½æ•°
    function fn() {
        console.log('æˆ‘æ˜¯å†…éƒ¨ç§æœ‰å‡½æ•°');
    }
    // æš´éœ²å±æ€§å’Œæ–¹æ³•
    window.myModule = {foo, bar};
})(window, jQuery);
```
```html
<body>
    <!-- å¼•å…¥çš„jså¿…é¡»æœ‰ä¸€å®šé¡ºåº -->
    <script src="./jquery.js"></script>
    <script src="./module.js"></script>
    <script>
        myModule.foo();
        myModule.bar();
    </script>
</body>
```
åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œé€šè¿‡jqueryæ–¹æ³•å°†é¡µé¢çš„èƒŒæ™¯é¢œè‰²æ”¹æˆé»„è‰²ï¼Œæ‰€ä»¥å¿…é¡»å…ˆå¼•å…¥jQueryåº“ï¼Œå¹¶æŠŠ`jQuery`å½“ä½œå‚æ•°ä¼ å…¥ã€‚è¿™æ ·åšé™¤äº†ä¿è¯æ¨¡å—çš„ç‹¬ç«‹æ€§ï¼Œè¿˜ä½¿å¾—æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å˜å¾—æ˜æ˜¾ã€‚
## åŒæ­¥/é˜»å¡å¼åŠ è½½
```js
// timeout.js
var EXE_TIME = 2;

(function(second){
    var start = +new Date();
    while(start + second * 1000 > new Date()){}
})(EXE_TIME);

console.log('2000ms executed');
```
```js
// main.js
require('./timeout'); // sync load
console.log('done!');
```
## å¼•å…¥å¤šä¸ª`<script>`åå‡ºç°å‡ºç°é—®é¢˜
* è¯·æ±‚è¿‡å¤šï¼šé¦–å…ˆæˆ‘ä»¬è¦ä¾èµ–å¤šä¸ªæ¨¡å—ï¼Œé‚£æ ·å°±ä¼šå‘é€å¤šä¸ªè¯·æ±‚ï¼Œå¯¼è‡´è¯·æ±‚è¿‡å¤šï¼›
* ä¾èµ–æ¨¡ç³Šï¼šæˆ‘ä»¬ä¸çŸ¥é“ä»–ä»¬çš„å…·ä½“ä¾èµ–å…³ç³»æ˜¯ä»€ä¹ˆï¼Œä¹Ÿå°±æ˜¯è¯´å¾ˆå®¹æ˜“å› ä¸ºä¸äº†è§£ä»–ä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»å¯¼è‡´åŠ è½½å…ˆåé¡ºåºå‡ºé”™ã€‚
* éš¾ä»¥ç»´æŠ¤

ä»¥ä¸Šä¸¤ç§åŸå› å°±å¯¼è‡´äº†å¾ˆéš¾ç»´æŠ¤ï¼Œå¾ˆå¯èƒ½å‡ºç°ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«çš„æƒ…å†µå¯¼è‡´é¡¹ç›®å‡ºç°ä¸¥é‡çš„é—®é¢˜ã€‚
æ¨¡å—åŒ–å›ºç„¶æœ‰å¤šä¸ªå¥½å¤„ï¼Œç„¶è€Œä¸€ä¸ªé¡µé¢éœ€è¦å¼•å…¥å¤šä¸ªjsæ–‡ä»¶ï¼Œå°±ä¼šå‡ºç°ä»¥ä¸Šè¿™äº›é—®é¢˜ã€‚è€Œè¿™äº›é—®é¢˜å¯ä»¥é€šè¿‡æ¨¡å—åŒ–è§„èŒƒæ¥è§£å†³ï¼Œä¸‹é¢ä»‹ç»å¼€å‘ä¸­æœ€æµè¡Œçš„commonjsï¼ŒAMDï¼ŒES6ï¼ŒCMDè§„èŒƒã€‚
## æ¨¡å—åŒ–è§„èŒƒ
* CommonJSï¼šè¯¥è§„èŒƒåŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åŠ è½½å®Œæˆï¼Œæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œã€‚
* AMDï¼šå¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œå…è®¸æŒ‡å®šå›è°ƒå‡½æ•°ã€‚
* CMD
* ES6

ç”±äºNode.jsä¸»è¦ç”¨äºæœåŠ¡ç«¯ç¼–ç¨‹ï¼Œæ¨¡å—æ–‡ä»¶ä¸€èˆ¬éƒ½å·²ç»å­˜åœ¨äºæœ¬åœ°ç¡¬ç›˜ï¼Œæ‰€ä»¥åŠ è½½èµ·æ¥æ¯”è¾ƒå¿«ï¼Œä¸ç”¨è€ƒè™‘éåŒæ­¥åŠ è½½çš„æ–¹å¼ï¼Œæ‰€ä»¥CommonJSè§„èŒƒæ¯”è¾ƒé€‚ç”¨ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ˜¯æµè§ˆå™¨ç¯å¢ƒï¼Œè¦ä»æœåŠ¡å™¨ç«¯åŠ è½½æ¨¡å—ï¼Œè¿™æ—¶å°±å¿…é¡»é‡‡ç”¨éåŒæ­¥æ¨¡å¼ï¼Œå› æ­¤æµè§ˆå™¨ç«¯ä¸€èˆ¬é‡‡ç”¨AMDè§„èŒƒã€‚
## CommonJS
NodeJSé‡‡ç”¨CommonJSæ¨¡å—è§„èŒƒã€‚
* æ¯ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚**åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»ï¼Œéƒ½æ˜¯ç§æœ‰çš„ï¼Œå¯¹å…¶ä»–æ–‡ä»¶ä¸å¯è§ã€‚
* **åœ¨æœåŠ¡å™¨ç«¯ï¼Œæ¨¡å—çš„åŠ è½½æ˜¯è¿è¡Œæ—¶**åŒæ­¥åŠ è½½**çš„ã€‚
* åœ¨æµè§ˆå™¨ç«¯ï¼ŒCommonJSæ¨¡å—éœ€è¦æå‰ç¼–è¯‘æ‰“åŒ…å¤„ç†ã€‚
### ç‰¹ç‚¹
* æ‰€æœ‰ä»£ç éƒ½è¿è¡Œåœ¨æ¨¡å—ä½œç”¨åŸŸï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸã€‚
* æ¨¡å—å¯ä»¥å¤šæ¬¡åŠ è½½ï¼Œä½†æ˜¯åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œç„¶åè¿è¡Œç»“æœå°±è¢«ç¼“å­˜äº†ï¼Œä»¥åå†åŠ è½½ï¼Œå°±ç›´æ¥è¯»å–ç¼“å­˜ç»“æœã€‚è¦æƒ³è®©æ¨¡å—å†æ¬¡è¿è¡Œï¼Œå¿…é¡»æ¸…é™¤ç¼“å­˜ã€‚
* æ¨¡å—åŠ è½½çš„é¡ºåºï¼ŒæŒ‰ç…§å…¶åœ¨ä»£ç ä¸­å‡ºç°çš„é¡ºåºã€‚
### åŸºæœ¬è¯­æ³•
* æš´éœ²æ¨¡å—ï¼šmodule.exports = valueæˆ–exports.xxx = valueï¼›ä¸¤è€…æš´éœ²çš„éƒ½æ˜¯exportså¯¹è±¡ã€‚
* å¼•å…¥æ¨¡å—ï¼šrequire('xxx')ï¼Œå¦‚æœæ˜¯ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œxxxä¸ºæ¨¡å—åï¼›å¦‚æœæ˜¯è‡ªå®šä¹‰æ¨¡å—ï¼Œxxxä¸ºæ¨¡å—æ–‡ä»¶è·¯å¾„ã€‚

### CommonJSæš´éœ²çš„æ¨¡å—åˆ°åº•æ˜¯ä»€ä¹ˆ?
CommonJSè§„èŒƒè§„å®šï¼šæ¯ä¸ªæ¨¡å—å†…éƒ¨ï¼Œmoduleå˜é‡ä»£è¡¨å½“å‰æ¨¡å—ã€‚è¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„exportså±æ€§(å³module.exports)æ˜¯å¯¹å¤–çš„æ¥å£ã€‚**åŠ è½½æŸä¸ªæ¨¡å—ï¼Œå…¶å®æ˜¯åŠ è½½è¯¥æ¨¡å—çš„module.exportså±æ€§**ã€‚å› æ­¤ï¼ŒCommonJSæš´éœ²çš„æ¨¡å—å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚
```js
// test.js
const a = 12;
const add = (x) => {
    return x + a;
}

module.exports.a = a;
module.exports.add = add;
```
ä¸Šé¢ä»£ç ä¸­é€šè¿‡module.exportsè¾“å‡ºå˜é‡aå’Œå‡½æ•°addã€‚
```js
const test = require('./test.js');

console.log(test); // { a: 12, add: [Function: add] }
console.log(test.a); // 12
console.log(test.add(2)); // 14
```
requireå‘½ä»¤ç”¨äºåŠ è½½æ¨¡å—æ–‡ä»¶ã€‚å…¶åŸºæœ¬åŠŸèƒ½æ˜¯ï¼šè¯»å–å¹¶æ‰§è¡Œå¯¹åº”çš„JSæ–‡ä»¶ï¼Œç„¶åè¿”å›è¯¥æ¨¡å—çš„exportså¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°æŒ‡å®šæ¨¡å—ï¼Œä¼šæŠ¥é”™ã€‚
### æ¨¡å—çš„åŠ è½½æœºåˆ¶
CommonJSæ¨¡å—çš„åŠ è½½æœºåˆ¶æ˜¯ï¼šè¾“å…¥çš„æ˜¯è¢«è¾“å‡ºçš„å€¼çš„æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼ã€‚è¿™ç‚¹ä¸ES6æ¨¡å—åŒ–æœ‰é‡å¤§å·®å¼‚ï¼Œè¯·çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š
```js
// a.js
let counter = 1;
function addCounter() {
    counter++;
}
module.exports = {
    counter,
    addCounter
};
```
ä¸Šé¢ä»£ç è¾“å‡ºå†…éƒ¨å˜é‡counterå’Œæ”¹å†™è¿™ä¸ªå˜é‡çš„å†…éƒ¨æ–¹æ³•incCounterã€‚
```js
// b.js
const {counter, addCounter} = require('./a.js');

console.log(counter); // 1
addCounter();
console.log(counter); // 1
```
ç”±ä¸Šè¿°ä»£ç ç»“æœå¯ä»¥çœ‹å‡ºï¼Œcounterè¾“å‡ºä»¥åï¼Œa.jsæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°counteräº†ã€‚è¿™æ˜¯å› ä¸ºcounteræ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œä¼šè¢«ç¼“å­˜ã€‚é™¤éå†™æˆä¸€ä¸ªå‡½æ•°ï¼Œæ‰èƒ½å¾—åˆ°å†…éƒ¨å˜åŠ¨åçš„å€¼ã€‚
### Nodeç¯å¢ƒ(å³æœåŠ¡ç«¯ä½¿ç”¨CommonJSè§„èŒƒ)
```js
/**
 * module1.js
 * ä½¿ç”¨module.exports = valueå‘å¤–æš´éœ²ä¸€ä¸ªå¯¹è±¡
*/
module.exports = {
    msg: 'module1 foo()',
    foo() {
        console.log(this.msg);
    }
}
```
```js
/**
 * module2.js
 * ä½¿ç”¨module.exports = valueå‘å¤–æš´éœ²ä¸€ä¸ªå‡½æ•°
*/
module.exports = function () {
    console.log('module2');
}
```
```js
/**
 * module3.js
 * ä½¿ç”¨exports.xxx = valueå‘å¤–æš´éœ²ä¸€ä¸ªå¯¹è±¡
*/
exports.foo = function() {
    console.log('module3 foo()');
}

exports.bar = function() {
    console.log('module3 bar()');
}
```
```js
// app.js
/**
 * æš´éœ²æ¨¡å—
 * module.exports = value
 * exports.xxx = value
 * å¼•å…¥æ¨¡å—
 * var module = require(xxx)
 * ç¬¬ä¸‰æ–¹æ¨¡å—ï¼šxxxä¸ºæ¨¡å—åç§°
 * è‡ªå®šä¹‰æ¨¡å—ï¼šxxxä¸ºæ¨¡å—æ–‡ä»¶è·¯å¾„
*/
const uniq = require('uniq');
const module1 = require('./modules/module1'); // module1å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡
const module2 = require('./modules/module2'); // module2å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå‡½æ•°
const module3 = require('./modules/module3'); // module3å¯¼å‡ºçš„ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡

module1.foo();
module2();
module3.bar();
module3.foo();
console.log(uniq([1, 2, 2, 1, 1, 3, 11]));
```
ç»“æœå¦‚ä¸‹ï¼š
```js
module1 foo()
module2
module3 bar()
module3 foo()
[ 1, 11, 2, 3 ]
```

### æµè§ˆå™¨ç¯å¢ƒä½¿ç”¨CommonJSè§„èŒƒ
CommonJSè§„èŒƒåœ¨æµè§ˆå™¨ç«¯å®ç°éœ€è¦å€ŸåŠ©Browserifyã€‚
```js
yarn global add browserify
```
ä»£ç å’ŒNodeç¯å¢ƒä¸‹ä¸€è‡´ï¼Œåªä¸è¿‡app.jséœ€è¦ç”¨browserifyç¼–è¯‘ä¸€ä¸‹ã€‚
```js
browserify src/app.js -o dist/build.js
```
```html
<body>
    <!-- Browserifyï¼šæµè§ˆå™¨åŠ è½½Node.jsæ¨¡å— -->
    <script src="./dist/build.js"></script>
</body>
```
ç»“æœå¦‚ä¸‹ï¼š

<img :src="$withBase('/js/js-module7.png')" alt="">

## AMDè§„èŒƒ
AMDå…¨ç§°ä¸ºAsynchronous Module Definition(å¼‚æ­¥æ¨¡å—å®šä¹‰)ã€‚ä¸“é—¨ç”¨äºæµè§ˆå™¨ç«¯ï¼Œæ¨¡å—çš„åŠ è½½æ˜¯å¼‚æ­¥çš„ã€‚
### AMDè§„èŒƒåŸºæœ¬è¯­æ³•
å®šä¹‰æš´éœ²æ¨¡å—:
```js
// å®šä¹‰æ²¡æœ‰ä¾èµ–çš„æ¨¡å—
define(function() {
   return æ¨¡å—
})
// å®šä¹‰æœ‰ä¾èµ–çš„æ¨¡å—
// æ˜¾ç¤ºå£°æ˜ä¾èµ–æ³¨å…¥
define(['module1', 'module2'], function(m1, m2) {
   return æ¨¡å—
})
```
å¼•å…¥ä½¿ç”¨æ¨¡å—ï¼š
```js
require(['module1', 'module2'], function(m1, m2) {
   // ä½¿ç”¨m1å’Œm2
})
```
### æœªä½¿ç”¨AMDè§„èŒƒ
```js
// å®šä¹‰ä¸€ä¸ªæ— ä¾èµ–æ¨¡å—dataService.js
;(function(window) {
    let a = 'test';
    function foo() {
        return a.toUpperCase();
    }
    window.dataService = {foo};
})(window)
```
```js
// å®šä¹‰ä¸€ä¸ªæœ‰ä¾èµ–çš„æ¨¡å—alerter.jsï¼Œä¾èµ–dataService
;(function(window, dataService){
    let b = 'work';
    function showMsg() {
        console.log(`${dataService.foo()}-${b}`);
    }
    window.alerter = {showMsg};
})(window, dataService)
```
```js
// main.js
(function(alerter) {
    alerter.showMsg(); // TEST-work
})(alerter);
```
```html
<body>
    <script src="./js/modules/dataService.js"></script>
    <script src="./js/modules/alerter.js"></script>
    <script src="./js/main.js"></script>
</body>
```
::: warning
è¿™ç§æ–¹å¼ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼š
1. é¦–å…ˆä¼šå‘é€å¤šä¸ªè¯·æ±‚ï¼›
2. å…¶æ¬¡å¼•å…¥çš„jsæ–‡ä»¶é¡ºåºä¸èƒ½æé”™ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚
:::
### AMDè§„èŒƒå®ç°(æµè§ˆå™¨ç«¯)
è¦åœ¨æµè§ˆå™¨ç«¯ä½¿ç”¨AMDè§„èŒƒéœ€è¦å¼•å…¥require.jsã€‚
RequireJSæ˜¯ä¸€ä¸ªå·¥å…·åº“ï¼Œä¸»è¦ç”¨äºæµè§ˆå™¨ç«¯çš„æ¨¡å—ç®¡ç†ã€‚å®ƒçš„æ¨¡å—ç®¡ç†éµå®ˆAMDè§„èŒƒï¼ŒRequireJSçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡defineæ–¹æ³•ï¼Œå°†ä»£ç å®šä¹‰ä¸ºæ¨¡å—ï¼›é€šè¿‡requireæ–¹æ³•ï¼Œå®ç°ä»£ç çš„æ¨¡å—åŠ è½½ã€‚
æ¥ä¸‹æ¥ä»‹ç»AMDè§„èŒƒåœ¨æµè§ˆå™¨å®ç°çš„æ­¥éª¤ï¼š

ä¸‹è½½require.jsï¼Œå¹¶å¼•å…¥ã€‚
* å®˜ç½‘ï¼š[https://requirejs.org/](https://requirejs.org/)
* githubï¼š[https://github.com/requirejs/requirejs](https://github.com/requirejs/requirejs)

ç„¶åå°†require.jså¯¼å…¥é¡¹ç›®: js/libs/require.js
```js
// å®šä¹‰ä¸€ä¸ªæ— ä¾èµ–çš„æ¨¡å—dataService.js
define(function() {
    let a = 'test666';
    function foo() {
        return a.toUpperCase();
    }
    return {foo};
});
```
```js
// å®šä¹‰ä¸€ä¸ªæœ‰ä¾èµ–çš„æ¨¡å—alerter.js
define(['dataService', 'jquery', 'underscore'], function(dataService, $, _) {
    let b = 'work';
    let arr = [1, 2, 3];
    function showMsg() {
        $('body').css('background', 'red');
        console.log(`${dataService.foo()}-${b}`);
        let sum = _.reduce(arr, (a, b) => a + b, 0);
        console.log(sum);
    }
    // æš´éœ²æ¨¡å—
    return {showMsg};
});
```
```js
// custom.js
const obj = {
    test() {
        console.log('è¿™é‡Œéæ ‡å‡†çš„AMD');
        $('#box').css('background', 'green');
    }
}
```
```js
// main.js
;(function() {
    require.config({
        baseUrl: 'js/', // åŸºç¡€è·¯å¾„ï¼Œå‡ºå‘ç‚¹åœ¨æ ¹ç›®å½•ä¸‹
        paths: { // é…ç½®æ¨¡å—è·¯å¾„
            // æ˜ å°„ï¼šæ¨¡å—æ ‡è¯†åï¼šè·¯å¾„
            alerter: './modules/alerter', // æ³¨æ„è¿™é‡Œalerterä¸èƒ½åŠ åç¼€.js
            dataService: './modules/dataService',
            jquery: './libs/jquery', // å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼Œæ³¨æ„ï¼šå†™æˆjQuery: './libs/jquery'ä¼šæŠ¥é”™,
            underscore: './libs/underscore',
            custom: './modules/custom'
        },
        shim: { // shimå¯ä»¥ç†è§£æˆ'å«ç‰‡'ï¼Œç”¨æ¥å¸®åŠ©require.jsåŠ è½½éAMDè§„èŒƒçš„åº“
            'custom': {
                deps: ['jquery'],
                exports: 'obj' // è¿™é‡Œçš„objæ˜¯å› ä¸ºcustom.jså®šä¹‰çš„å¯¹è±¡åç§°å°±æ˜¯obj
            }
        }
    });
    require(['alerter', 'custom'], function(alerter, custom) {
        alerter.showMsg();
        custom.test();
    });
})()
```
::: warning
éœ€è¦æ³¨æ„ï¼šè®¾ç½®äº†baseUrlï¼Œå°±ä¼šä»baseUrlç›®å½•ä¸‹å»å¯»æ‰¾å¯¹åº”çš„æ¨¡å—ã€‚æ¯”å¦‚`alerter: './modules/alerter'`ï¼Œå°±ä¼šå»`js/modules/alerter`ä¸‹å¯»æ‰¾ã€‚ä¸è®¾ç½®çš„è¯ï¼Œå°±ä¼šå»main.jsæ‰€åœ¨ç›®å½•ä¸‹å¯»æ‰¾ã€‚
:::
```html
<body>
    <div id="box">æˆ‘æ˜¯éæ ‡å‡†çš„AMD</div>
    <script data-main="js/main.js" src="js/libs/require.js"></script>
</body>
```
ç»“æœå¦‚ä¸‹ï¼š
<img :src="$withBase('/js/js-module2.png')" alt="">
<img :src="$withBase('/js/js-module3.png')" alt="">

```js
jquery: './libs/jquery' // å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼Œæ³¨æ„ï¼šå†™æˆjQuery: './libs/jquery'ä¼šæŠ¥é”™
```
jQueryæºç ä¸­æœ‰å¦‚ä¸‹å®šä¹‰ï¼šå½“jqueryåœ¨AMDè§„èŒƒä¸‹ä½¿ç”¨æ—¶ï¼Œå…¶å†…éƒ¨è‡ªå®šä¹‰äº†ä¸€ä¸ªjqueryæ¨¡å—ã€‚æ‰€ä»¥ï¼Œå¿…é¡»è¦å†™æˆjqueryè€Œä¸æ˜¯jQueryã€‚
<img :src="$withBase('/js/js-module4.png')" alt="">

ä¸Šä¾‹æ˜¯åœ¨alerter.jsæ–‡ä»¶ä¸­å¼•å…¥jQueryç¬¬ä¸‰æ–¹åº“ï¼Œmain.jsæ–‡ä»¶ä¹Ÿè¦æœ‰ç›¸åº”çš„è·¯å¾„é…ç½®ã€‚
::: tip
æ€»ç»“ï¼šAMDæ¨¡å—å®šä¹‰çš„æ–¹æ³•éå¸¸æ¸…æ™°ï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ç¯å¢ƒï¼Œèƒ½å¤Ÿæ¸…æ¥šåœ°æ˜¾ç¤ºä¾èµ–å…³ç³»ã€‚AMDæ¨¡å¼å¯ä»¥ç”¨äºæµè§ˆå™¨ç¯å¢ƒï¼Œå¹¶ä¸”å…è®¸éåŒæ­¥åŠ è½½æ¨¡å—ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦åŠ¨æ€åŠ è½½æ¨¡å—ã€‚
:::
## AMD vs CommonJS
### ä¹¦å†™é£æ ¼
```js
// Module/1.0 CommonJS
const a = require('./a'); // ä¾èµ–å°±è¿‘
a.doSomething();

const b = require('./b');
b.doSomething();
```
```js
// AMD recommended style
define(['a', 'b'], function(a, b){ // ä¾èµ–å‰ç½®
    a.doSomething();
    b.doSomething();
})
```
### æ‰§è¡Œæ—¶æœº
```js
// Module/1.0
var a = require('./a');  // æ‰§è¡Œåˆ°æ­¤æ—¶ï¼Œa.js åŒæ­¥ä¸‹è½½å¹¶æ‰§è¡Œ
```
```js
// AMD with CommonJS sugar
define(['require'], function(require){
    // åœ¨è¿™é‡Œï¼Œ a.js å·²ç»ä¸‹è½½å¹¶ä¸”æ‰§è¡Œå¥½äº†
    var a = require('./a')
})
```
## CMDè§„èŒƒ
CMDå³Common Module Definition(æ™®é€šæ¨¡å—å®šä¹‰)ã€‚

1. CMDè§„èŒƒä¸“é—¨ç”¨äºæµè§ˆå™¨ç«¯ï¼Œ**æ¨¡å—çš„åŠ è½½æ˜¯å¼‚æ­¥çš„**ï¼›
2. æ¨¡å—ä½¿ç”¨æ—¶æ‰ä¼šåŠ è½½æ‰§è¡Œã€‚

CMDè§„èŒƒæ•´åˆäº†CommonJSå’ŒAMDè§„èŒƒçš„ç‰¹ç‚¹ã€‚åœ¨Sea.jsä¸­ï¼Œæ‰€æœ‰JSæ¨¡å—éƒ½éµå¾ªCMDæ¨¡å—å®šä¹‰è§„èŒƒã€‚

ä½¿ç”¨Sea.jsï¼šSea.jsç»“åˆäº†CommonJSå’ŒAMDä¸¤ç§è§„èŒƒï¼Œå®šä¹‰æ¨¡å—é‡‡ç”¨AMDè§„èŒƒçš„defineæ–¹å¼ï¼Œå¯¼å‡ºæ¨¡å—é‡‡ç”¨CommonJSçš„module.exportså’Œexportsæ–¹å¼ã€‚

1. å¼•å…¥sea.jsåº“ï¼›
2. å®šä¹‰å’Œå¯¼å‡ºæ¨¡å—ï¼›
    define()
    exports
    module.exports
3. å¼•å…¥ä¾èµ–æ¨¡å—ï¼›
    require()
4. ä½¿ç”¨æ¨¡å—ï¼›
    seajs.use()

### CMDåŸºæœ¬è¯­æ³•
å®šä¹‰æš´éœ²æ¨¡å—
```js
// å®šä¹‰æ²¡æœ‰æœ‰ä¾èµ–çš„æ¨¡å—
define(function(require, exports, module) {
    exports.xxx = value;
    module.exports = value;
});
```
```js
// å®šä¹‰æœ‰ä¾èµ–çš„æ¨¡å—
// require, exports, moduleç±»ä¼¼äºCommonJSè§„èŒƒ
// defineè¯­æ³•ç±»ä¼¼äºAMDè§„èŒƒ
// å› æ­¤CMDè§„èŒƒæ˜¯ç»“åˆäº†AMDå’ŒCommonJSè§„èŒƒ
define(function(require, exports, module) {
    // å¼•å…¥ä¾èµ–æ¨¡å—(åŒæ­¥)
    const module2 = require('./module2');
    // å¼•å…¥ä¾èµ–æ¨¡å—(å¼‚æ­¥)
    require.async('./module3', function(m3) {});
    // æš´éœ²æ¨¡å—
    exports.xxx = value;
});
```
å¼•å…¥æ¨¡å—ï¼š
```js
define(function (require) {
    const module1 = require('./module1');
    const module4 = require('./module4');
    module1.foo();
    module4.show();
})
```
æ¥çœ‹ä¸ªğŸŒ°ï¼š
```html
<body>
    <script src="./js/libs/sea.js"></script>
    <script>
        seajs.use('./js/modules/main');
    </script>
</body>
```
```js
// main.js
define(function (require) {
    const module1 = require('./module1');
    const module4 = require('./module4');
    module1.foo();
    module4.show();
})
```
```js
// å®šä¹‰æ²¡æœ‰ä¾èµ–çš„æ¨¡å—module1.js
define(function (require, exports, module) {
    // å†…éƒ¨å˜é‡æ•°æ®
    const data = 'module1'
    // å†…éƒ¨å‡½æ•°
    function foo() {
      console.log('module1 show() ' + data);
    }
    //å‘å¤–æš´éœ²
    exports.foo = foo;
})
```
```js
// å®šä¹‰æ²¡æœ‰ä¾èµ–çš„æ¨¡å—module2.js
define(function (require, exports, module) {
    module.exports = {
      msg: 'module2'
    };
})
```
```js
// module3.js
define(function(require, exports, module) {
    exports.a = 'module3';
})
```
```js
// å®šä¹‰æœ‰ä¾èµ–çš„æ¨¡å—module4.js
define(function (require, exports, module) {
    // å¼•å…¥ä¾èµ–æ¨¡å—(åŒæ­¥)
    const module2 = require('./module2');
    function show() {
      console.log('module4 show() ' + module2.msg);
    }
    exports.show = show;
    // å¼•å…¥ä¾èµ–æ¨¡å—(å¼‚æ­¥)
    require.async('./module3', function (m3) {
      console.log('å¼‚æ­¥å¼•å…¥ä¾èµ–æ¨¡å—3 ' + m3.a);
    });
})
```
ç»“æœå¦‚ä¸‹ï¼š
<img :src="$withBase('/js/js-module5.png')" alt="">

## AMD vs CMD(çœŸæ­£çš„åŒºåˆ«åœ¨äºæ‰§è¡Œæ—¶æœºä¸åŒ)
```js
// AMDè§„èŒƒ
define(['a', 'b'], function(a, b) {
    a.doSomething(); // ä¾èµ–å‰ç½®ï¼Œæå‰åŠ è½½ä¾èµ–
    b.doSomething();
})
```
```js
// CMDè§„èŒƒ
define(function(require, exports, module) {
    const a = require('a');
    a.doSomething();
    const b = require('b');
    b.doSomething(); // ä¾èµ–å°±è¿‘ï¼Œå»¶è¿ŸåŠ è½½ä¾èµ–
})
```
## ES6æ¨¡å—åŒ–è§„èŒƒ
ES6æ¨¡å—çš„è®¾è®¡æ€æƒ³æ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿å¾—**ç¼–è¯‘æ—¶**å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚CommonJSå’ŒAMDæ¨¡å—ï¼Œéƒ½åªèƒ½åœ¨**è¿è¡Œæ—¶**ç¡®å®šè¿™äº›ä¸œè¥¿ã€‚æ¯”å¦‚ï¼ŒCommonJSæ¨¡å—å°±æ˜¯å¯¹è±¡ï¼Œè¾“å…¥æ—¶å¿…é¡»æŸ¥æ‰¾å¯¹è±¡å±æ€§ã€‚
```js
// è£…åŒ…
 yarn add @babel/core @babel/cli @babel/preset-env --dev
```
```js
//.babelrc
{
    "presets": ["@babel/preset-env"]
}
```
ä½¿ç”¨Babelå°†ES6ç¼–è¯‘ä¸ºES5ä»£ç (ä½†åŒ…å«CommonJSè¯­æ³•)ï¼š
```js
npx babel js/src -d js/dist
```
ä½¿ç”¨Browserifyç¼–è¯‘jsï¼Œå¤„ç†CommonJSè¯­æ³•ã€‚
```js
browserify js/dist/app.js -o js/dist/build.js
```
```html
<body>
    <script src="./js/dist/build.js"></script>
</body>
```
```js
// app.js
import { foo, bar } from './module1';
import { fun1, fun2 } from './module2';
// ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å…¨éƒ¨å¼•å…¥
import * as fn from './module2';
import module3 from './module3';

console.log(fn);
fn.fun1();
console.log('---------');
foo();
bar();
fun1();
fun2();
module3();
```
```js
// module1.js
// åˆ†åˆ«æš´éœ²
export function foo() {
    console.log('foo() module1');
}
export function bar() {
    console.log('bar() module1');
}
```
```js
// module2.js
// ç»Ÿä¸€æš´éœ²
function fun1() {
    console.log('fun1() module2');
}
function fun2() {
    console.log('fun2() module2');
}
export {fun1, fun2};
```
```js
// module3.js
// é»˜è®¤æš´éœ² å¯ä»¥æš´éœ²ä»»æ„æ•°æ®ç±»é¡¹ï¼Œæš´éœ²ä»€ä¹ˆæ•°æ®ï¼Œæ¥æ”¶åˆ°å°±æ˜¯ä»€ä¹ˆæ•°æ®
// é»˜è®¤æš´éœ²åœ¨æ¯ä¸ªæ¨¡å—ä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œå¤šæ¬¡ä½¿ç”¨ä¼šæŠ¥é”™
export default () => {
    console.log('é»˜è®¤æš´éœ²');
}
```
ç»“æœå¦‚ä¸‹ï¼š
<img :src="$withBase('/js/js-module8.png')" alt="">

## ES6æ¨¡å—åŒ–è§„èŒƒä¸CommonJSçš„å·®å¼‚
å®ƒä»¬æœ‰ä¸¤ä¸ªé‡å¤§å·®å¼‚ï¼š
1. CommonJSæ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ï¼›
2. CommonJSæ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚

ç¬¬äºŒä¸ªå·®å¼‚æ˜¯å› ä¸ºCommonJSåŠ è½½çš„æ˜¯ä¸€ä¸ªå¯¹è±¡(å³module.exportså±æ€§)ï¼Œè¯¥å¯¹è±¡åªæœ‰åœ¨è„šæœ¬è¿è¡Œå®Œæ‰ä¼šç”Ÿæˆã€‚è€ŒES6æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒçš„å¯¹å¤–æ¥å£åªæ˜¯ä¸€ç§é™æ€å®šä¹‰ï¼Œåœ¨ä»£ç é™æ€è§£æé˜¶æ®µå°±ä¼šç”Ÿæˆã€‚

ä¸‹é¢é‡ç‚¹è§£é‡Šç¬¬ä¸€ä¸ªå·®å¼‚ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä¸¾ä¸Šé¢é‚£ä¸ªCommonJSæ¨¡å—çš„åŠ è½½æœºåˆ¶ä¾‹å­ï¼š
```js
// a.js
export let counter = 3;
export function incCounter() {
  counter++;
}
// b.js
import { counter, incCounter } from './a';
console.log(counter); // 3
incCounter();
console.log(counter); // 4
```
```js
// æ‰§è¡Œ
npx babel-node b.js
```
ES6æ¨¡å—çš„è¿è¡Œæœºåˆ¶ä¸CommonJSä¸ä¸€æ ·ã€‚ES6æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œé¢çš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ã€‚
## æ€»ç»“
1. CommonJSè§„èŒƒä¸»è¦ç”¨äºæœåŠ¡ç«¯ç¼–ç¨‹ï¼ŒåŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œè¿™å¹¶ä¸é€‚åˆåœ¨æµè§ˆå™¨ç¯å¢ƒï¼Œå› ä¸ºåŒæ­¥æ„å‘³ç€é˜»å¡åŠ è½½ï¼Œæµè§ˆå™¨èµ„æºæ˜¯å¼‚æ­¥åŠ è½½çš„ï¼Œå› æ­¤æœ‰äº†AMD CMDè§£å†³æ–¹æ¡ˆã€‚
2. AMDè§„èŒƒåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­å¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œè€Œä¸”å¯ä»¥å¹¶è¡ŒåŠ è½½å¤šä¸ªæ¨¡å—ã€‚ä¸è¿‡ï¼ŒAMDè§„èŒƒå¼€å‘æˆæœ¬é«˜ï¼Œä»£ç çš„é˜…è¯»å’Œä¹¦å†™æ¯”è¾ƒå›°éš¾ï¼Œæ¨¡å—å®šä¹‰æ–¹å¼çš„è¯­ä¹‰ä¸é¡ºç•…ã€‚
3. CMDè§„èŒƒä¸AMDè§„èŒƒå¾ˆç›¸ä¼¼ï¼Œéƒ½ç”¨äºæµè§ˆå™¨ç¼–ç¨‹ï¼Œä¾èµ–å°±è¿‘ï¼Œå»¶è¿Ÿæ‰§è¡Œï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ¨Node.jsä¸­è¿è¡Œã€‚ä¸è¿‡ï¼Œä¾èµ–SPM æ‰“åŒ…ï¼Œæ¨¡å—çš„åŠ è½½é€»è¾‘åé‡ã€‚
4. ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼Œè€Œä¸”å®ç°å¾—ç›¸å½“ç®€å•ï¼Œå®Œå…¨å¯ä»¥å–ä»£ CommonJS å’Œ AMD è§„èŒƒï¼Œæˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆã€‚
## å‚è€ƒåšæ–‡
1. [å‰ç«¯æ¨¡å—åŒ–è¯¦è§£\(å®Œæ•´ç‰ˆ\)](https://segmentfault.com/a/1190000017466120#articleHeader13)
2. [ES6 ç³»åˆ—ä¹‹æ¨¡å—åŠ è½½æ–¹æ¡ˆ](https://github.com/mqyqingfeng/Blog/issues/108)
2. [javascriptä¸­çš„defineç”¨æ³•](https://blog.csdn.net/qq_16633405/article/details/77961539)
2. [JavaScript æ¨¡å—åŒ–ä¸ƒæ—¥è°ˆ](http://huangxuan.me/2015/07/09/js-module-7day/)
3. [å‰ç«¯æ¨¡å—åŒ–å¼€å‘é‚£ç‚¹å†å²](https://github.com/seajs/seajs/issues/588)
4. [æµ…æJSæ¨¡å—è§„èŒƒï¼šAMDå’ŒCMD](http://ghmagical.com/article/page/id/N7VY7Hg4TlgW)
5. [CMD æ¨¡å—å®šä¹‰è§„èŒƒ](https://github.com/seajs/seajs/issues/242)
6. [AMD (ä¸­æ–‡ç‰ˆ)](https://github.com/amdjs/amdjs-api/wiki/AMD-(%E4%B8%AD%E6%96%87%E7%89%88))
7. [AMD, CMD, CommonJSå’ŒUMD](https://segmentfault.com/a/1190000004873947)
8. [ç ”ç©¶ä¸€ä¸‹javascriptçš„æ¨¡å—è§„èŒƒï¼ˆCommonJs/AMD/CMDï¼‰](https://www.tuicool.com/articles/y2uqeaM)
9. [Javascriptæ¨¡å—åŒ–ç¼–ç¨‹ï¼ˆä¸‰ï¼‰ï¼šrequire.jsçš„ç”¨æ³•](http://www.ruanyifeng.com/blog/2012/11/require_js.html)
10. [Javascriptæ¨¡å—åŒ–ç¼–ç¨‹ï¼ˆäºŒï¼‰ï¼šAMDè§„èŒƒ](http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html)
11. [Javascriptæ¨¡å—åŒ–ç¼–ç¨‹ï¼ˆä¸€ï¼‰ï¼šæ¨¡å—çš„å†™æ³•](http://www.ruanyifeng.com/blog/2012/10/javascript_module.html)
12. [å‰ç«¯æ¨¡å—åŒ–ä¹‹æ—…ï¼ˆäºŒï¼‰ï¼šCommonJSã€AMDå’ŒCMD](https://www.tuicool.com/articles/ZFvIfmz)
13. [Module çš„è¯­æ³•](http://es6.ruanyifeng.com/#docs/module)
14. [javascriptæ¨¡å—åŒ–ä¹‹CommonJSã€AMDã€CMDã€UMDã€ES6](https://blog.csdn.net/real_bird/article/details/54869066#commentBox)
15. [requireJsçš„é…ç½®è¯¦è§£](https://www.sky8g.com/technology/1851/)
16. [30åˆ†é’Ÿå­¦ä¼šå‰ç«¯æ¨¡å—åŒ–å¼€å‘](https://www.cnblogs.com/best/p/10076782.html)
