---
title: 10. æ·±æ‹·è´å’Œæµ…æ‹·è´
---
::: tip
å†™ä½œä¸æ˜“ï¼ŒStaræ˜¯æœ€å¤§é¼“åŠ±ï¼Œæ„Ÿè§‰å†™çš„ä¸é”™çš„å¯ä»¥ç»™ä¸ªStarâ­ï¼Œè¯·å¤šå¤šæŒ‡æ•™ã€‚[Githubåœ°å€](https://github.com/liujie2019/VuePress-Blog)ã€‚
:::
é¦–å…ˆè¯´æ˜ä¸‹ï¼šæ·±æ‹·è´å’Œæµ…æ‹·è´éƒ½æ˜¯é’ˆå¯¹å¼•ç”¨æ•°æ®ç±»å‹çš„ã€‚

## jsæ•°æ®ç±»å‹
1. æ•°æ®åˆ†ä¸ºåŸºæœ¬çš„æ•°æ®ç±»å‹(Stringï¼ŒNumberï¼ŒBooleanï¼Œnullï¼Œundefined)å’Œå¼•ç”¨æ•°æ®ç±»å‹ã€‚
2. åŸºæœ¬æ•°æ®ç±»å‹ç‰¹ç‚¹ï¼šå­˜å‚¨çš„æ˜¯å®é™…æ•°æ®ï¼Œå­˜å‚¨åœ¨**æ ˆå†…å­˜**ä¸­ã€‚
3. å¼•ç”¨æ•°æ®ç±»å‹ç‰¹ç‚¹ï¼šå­˜å‚¨çš„æ˜¯è¯¥å¯¹è±¡åœ¨æ ˆä¸­å¼•ç”¨(å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼)ï¼ŒçœŸå®çš„æ•°æ®å­˜æ”¾åœ¨**å †å†…å­˜**ä¸­ã€‚

å¯¹åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œæ‹·è´æ“ä½œä¼šå¯¹å€¼è¿›è¡Œä¸€ä»½æ‹·è´ï¼Œè€Œå¯¹å¼•ç”¨ç±»å‹èµ‹å€¼ï¼Œåˆ™ä¼šè¿›è¡Œåœ°å€çš„æ‹·è´ï¼Œæœ€ç»ˆä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä»½æ•°æ®ã€‚
å †å†…å­˜ç”¨äºå­˜æ”¾ç”±`new`åˆ›å»ºçš„å¯¹è±¡ï¼Œæ ˆå†…å­˜å­˜æ”¾ä¸€äº›åŸºæœ¬ç±»å‹çš„å˜é‡å’Œå¯¹è±¡çš„å¼•ç”¨å˜é‡ã€‚

::: tip
æ·±æ‹·è´å’Œæµ…æ‹·è´æœ€æ ¹æœ¬çš„åŒºåˆ«åœ¨äºï¼šæ˜¯å¦æ˜¯çœŸæ­£è·å–äº†ä¸€ä¸ªå¯¹è±¡çš„å¤åˆ¶å®ä½“ï¼Œè€Œä¸æ˜¯å¼•ç”¨ã€‚æµ…æ‹·è´å°±æ˜¯åªè¿›è¡Œä¸€å±‚æ‹·è´ï¼Œæ·±æ‹·è´å°±æ˜¯æ— é™å±‚çº§æ‹·è´ã€‚
:::
1. **æ·±æ‹·è´**ä¼šåœ¨è®¡ç®—æœºä¸­å¼€è¾Ÿäº†ä¸€å—æ–°çš„å†…å­˜åœ°å€ç”¨äºå­˜æ”¾å¤åˆ¶çš„å¯¹è±¡ï¼›
2. è€Œæµ…æ‹·è´ä»…ä»…æ˜¯æŒ‡å‘è¢«å¤åˆ¶çš„å†…å­˜åœ°å€ï¼Œå¦‚æœåŸåœ°å€ä¸­å¯¹è±¡è¢«æ”¹å˜äº†ï¼Œé‚£ä¹ˆæµ…æ‹·è´çš„å¯¹è±¡ä¹Ÿä¼šç›¸åº”æ”¹å˜ã€‚

è¦å®ç°æ·±æ‹·è´ï¼Œéœ€è¦å…ˆäº†è§£jsæ•°æ®ç±»å‹ï¼š â€ƒâ€ƒ

1. åŸºæœ¬ç±»å‹: Undefinedã€Nullã€Booleanã€Numberã€Stringã€Symbolï¼›
2. å¼•ç”¨ç±»å‹: Objectã€‚

## åŸºæœ¬æ•°æ®ç±»å‹æ‹·è´
```js
// åŸºæœ¬æ•°æ®ç±»å‹å­˜æ”¾çš„å°±æ˜¯å®é™…çš„æ•°æ®ï¼Œå¯ä»¥ç›´æ¥æ‹·è´
let a = 10;
let b = a; // å°†å˜é‡açš„å€¼èµ‹å€¼ç»™å˜é‡b
a = 100; // å˜é‡açš„æ”¹å˜åï¼Œä¸ä¼šå½±å“åˆ°å˜é‡b
console.log(a); // 100
console.log(b); // 10
```
## å¼•ç”¨æ•°æ®ç±»å‹æ‹·è´
```js
let obj1 = {
	name: 'lisi',
	age: '22'
};
let obj2 = obj1; // obj2å¤åˆ¶çš„æ˜¯obj1åœ¨æ ˆå†…å­˜çš„å¼•ç”¨(å³obj1çš„åœ°å€å€¼)
obj2.age = 23;
console.log(obj1.age); // 23
console.log(obj2.age); // 23
```
ä¸Šè¿°ä»£ç åªæ˜¯å°†obj1å¯¹è±¡çš„**å¼•ç”¨åœ°å€**èµ‹å€¼ç»™äº†obj2å¯¹è±¡ã€‚å³ä¸¤è€…éƒ½æŒ‡å‘äº†åŒä¸€å—**å †å†…å­˜ç©ºé—´**(åŒä¸€ä¸ªå¯¹è±¡)ï¼Œæ‰€ä»¥å…¶ä¸­ä¸€ä¸ªå‘ç”Ÿå˜åŒ–ä¹Ÿä¼šå¯¼è‡´å¦å¤–ä¸€ä¸ªå˜åŒ–ã€‚
### åŒºåˆ†å¼•ç”¨æ•°æ®ç±»å‹çš„æµ…æ‹·è´å’Œæ·±åº¦æ‹·è´
åˆ¤æ–­ä¾æ®ï¼šæ‹·è´æ˜¯å¦äº§ç”Ÿäº†æ–°çš„æ•°æ®(å³æ˜¯å¦åœ¨å †å†…å­˜ä¸­é‡æ–°å¼€è¾Ÿäº†ä¸€å—å†…å­˜ç©ºé—´)è¿˜æ˜¯æ‹·è´çš„æ˜¯æ•°æ®çš„å¼•ç”¨(å¯¹è±¡æ•°æ®å­˜æ”¾çš„æ˜¯å¯¹è±¡åœ¨æ ˆå†…å­˜çš„å¼•ç”¨ï¼Œç›´æ¥å¤åˆ¶çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨)ã€‚

## å¼•ç”¨ç±»å‹æµ…æ‹·è´
å¸¸ç”¨æ‹·è´æŠ€æœ¯ï¼š
1. arr.concat(): æ•°ç»„æµ…æ‹·è´
2. arr.slice(): æ•°ç»„æµ…æ‹·è´
3. JSON.parse(JSON.stringify(arr/obj)): æ•°ç»„æˆ–å¯¹è±¡æ·±æ‹·è´ï¼Œä½†ä¸èƒ½å¤„ç†å‡½æ•°æ•°æ®
4. Object.assign(target, source)
### concatå’Œslice
```js
/**
 * concatå’Œsliceå¯ä»¥å®ç°æ•°æ®çš„æµ…æ‹·è´
 * æ•°ç»„çš„å…ƒç´ éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹
 */
const arr = ['test', 1, true, null, undefined];
const arr_new = arr.concat(); // å®ç°æ•°ç»„çš„æµ…æ‹·è´
const arr_slice = arr.slice();
arr_new[1] = 2;
arr_slice[1] = 3;
// [ 'test', 1, true, null, undefined ] [ 'test', 2, true, null, undefined ] [ 'test', 3, true, null, undefined ]
console.log(arr, arr_new, arr_slice);
```
### æ•°ç»„ä¸­åµŒå¥—äº†å¯¹è±¡æˆ–è€…æ•°æ®
```js
/**
 * æ•°ç»„ä¸­åµŒå¥—äº†å¯¹è±¡æˆ–è€…æ•°æ®
 */
const arr = [{name: 'lisi'}, [1, 2, 3]];
const arr_new = arr.concat(); // å®ç°æ•°ç»„çš„æµ…æ‹·è´
// const arr_new = Array.from(arr);
arr[0].name = 'lisi-from';
arr[1][0] = 222;
// [ { name: 'lisi-from' }, [ 222, 2, 3 ] ] [ { name: 'lisi-from' }, [ 222, 2, 3 ] ]
console.log(arr, arr_new);
// æ— è®ºæ˜¯æ–°æ•°ç»„è¿˜æ˜¯æ—§æ•°ç»„éƒ½å‘ç”Ÿäº†å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨concatæ–¹æ³•å®ç°çš„æ˜¯æµ…æ‹·è´
```
å¯¹äºæ•°ç»„å¤åˆ¶ï¼ŒES6æœ‰æ–°çš„ä¸¤ç§æ–¹æ³•ï¼Œä¸ä¼šå‘ç”Ÿå¼•ç”¨ã€‚

### Array.from
```js
var arr = [2, 3, 4];
var arr2 = Array.from(arr);
arr.push(5);
console.log(arr); // [2, 3, 4, 5]
console.log(arr2); // [2, 3, 4]
arr2.push(6);
console.log(arr); // [2, 3, 4, 5]
console.log(arr2); // [2, 3, 4, 6]
```
### æ‰©å±•è¿ç®—ç¬¦(...)
```js
var arr = [2, 3, 4];
var arr2 = [...arr];
arr.push(5);
console.log(arr); // [2, 3, 4, 5]
console.log(arr2); // [2, 3, 4]

arr2.push(6);
console.log(arr); // [2, 3, 4, 5]
console.log(arr2); // [2, 3, 4, 6]
```
### å¾ªç¯æ‹·è´
```js
var arr = [2, 3, 4];
var arr2 = [];
for(let i of arr) {
	arr2.push(i);
}
arr.push(5);
arr2.push(6);
console.log(arr);//[2, 3, 4, 5]
console.log(arr2);//[2, 3, 4, 6]

// å¦‚æœæ˜¯å¯¹è±¡
var obj1 = {
	name: 'lisi',
	age: 22
};
var obj2 = {};
for(let key in obj1) {
	obj2[key] = obj1[key];
}
console.log(JSON.stringify(obj1));
// {"name":"lisi","age":22}
console.log(JSON.stringify(obj2));
// {"name":"lisi","age":22}
obj1.job = 'worker';
obj2.job = 'teacher';
console.log(JSON.stringify(obj1));
// {"name":"lisi","age":22,"job":"worker"}
console.log(JSON.stringify(obj2));
// {"name":"lisi","age":22,"job":"teacher"}
```
```js
// ä¸Šè¿°æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥æ¥æ”¶å‡½æ•°å‚æ•°
function show(...arr){ // ç›´æ¥å¤åˆ¶argumentsè¿™ä¸ªä¼ªæ•°ç»„ï¼Œè®©å®ƒå˜æˆçœŸæ­£çš„æ•°ç»„ï¼Œä»è€Œæ‹¥æœ‰æ•°ç»„çš„æ–¹æ³•ã€‚
  console.log(arr); //[1, 2, 3, 4]
  arr.push(5);
  console.log(arr); //[1, 2, 3, 4, 5]
}
show(1, 2, 3, 4);
```
æµ…æ‹·è´ï¼šåªæ‹·è´äº†åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œè€Œå¯¹äºå¼•ç”¨ç±»å‹çš„æ•°æ®ï¼Œå¤åˆ¶åä¹Ÿæ˜¯ä¼šå‘ç”Ÿå¼•ç”¨ã€‚
### å¾ªç¯æ‹·è´2
```js
var obj1 = {
	name: 'lisi',
	arr: [1, 2, 3]
}
function copy(obj1) {
	var obj2 = {};
	for(let key in obj1) {
		obj2[key] = obj1[key];
	}
	return obj2;
}
var obj2 = copy(obj1);
obj2.arr.push(4);
console.log(obj1.arr); // [1, 2, 3, 4]
console.log(obj2.arr); // [1, 2, 3, 4]
```
## æ•°ç»„æ·±æ‹·è´
### JSON.parse && JSON.stringify(æŠ€å·§)
```js
const arr = ['test', {name: 'lisi'}, [1, 2, 3]];
const arr_new = JSON.parse(JSON.stringify(arr));

arr[1].name = 'wangwu';
console.log(arr); // [ 'test', { name: 'wangwu' }, [ 1, 2, 3 ] ]
console.log(arr_new); // [ 'test', { name: 'lisi' }, [ 1, 2, 3 ] ]
```
### å­˜åœ¨çš„é—®é¢˜-ä¸èƒ½æ‹·è´å‡½æ•°
```js
const arr = [
    function() {console.log('a')},
    {
        b: function() {console.log('b')}
    }
];
const arr_new = JSON.parse(JSON.stringify(arr));
console.log(arr_new); // [ null, {} ]
```
## æµ…æ‹·è´çš„å®ç°
concatã€sliceã€JSON.stringifyéƒ½ç®—æ˜¯æŠ€å·§ç±»ï¼Œå¯ä»¥æ ¹æ®å®é™…é¡¹ç›®æƒ…å†µé€‰æ‹©ä½¿ç”¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ€è€ƒä¸‹å¦‚ä½•å®ç°ä¸€ä¸ªå¯¹è±¡æˆ–è€…æ•°ç»„çš„æµ…æ‹·è´ã€‚
æƒ³ä¸€æƒ³ï¼Œå¥½åƒå¾ˆç®€å•ï¼Œéå†å¯¹è±¡ï¼Œç„¶åæŠŠå±æ€§å’Œå±æ€§å€¼éƒ½æ”¾åœ¨ä¸€ä¸ªæ–°çš„å¯¹è±¡ä¸å°±å¥½äº†ã€‚
å—¯ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œæ³¨æ„å‡ ä¸ªå°ç‚¹å°±å¯ä»¥äº†ï¼š
```js
const shallowClone = obj => {
    // åªæ‹·è´å¯¹è±¡
    // typeof [111] === 'object' // true
    if (typeof obj !== 'object') return;
    // æ ¹æ®objçš„ç±»å‹åˆ¤æ–­æ˜¯æ–°å»ºä¸€ä¸ªæ•°ç»„è¿˜æ˜¯å¯¹è±¡
    const new_obj = obj instanceof Array ? [] : {};
    for (let key in obj) {
        console.log(key);
        // éå†objï¼Œå¹¶ä¸”åˆ¤æ–­æ˜¯objçš„å±æ€§æ‰æ‹·è´
        if (obj.hasOwnProperty(key)) {
            new_obj[key] = obj[key];
        }
    }
    return new_obj;
};

console.log(shallowClone([{name: 'lisi', age: 22}]));
```
å¦‚æœæ•°ç»„å…ƒç´ æ˜¯åŸºæœ¬ç±»å‹ï¼Œå°±ä¼šæ‹·è´ä¸€ä»½ï¼Œäº’ä¸å½±å“ï¼Œè€Œå¦‚æœæ˜¯å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œå°±ä¼šåªæ‹·è´å¯¹è±¡å’Œæ•°ç»„çš„å¼•ç”¨ï¼Œè¿™æ ·æˆ‘ä»¬æ— è®ºåœ¨æ–°æ—§æ•°ç»„è¿›è¡Œäº†ä¿®æ”¹ï¼Œä¸¤è€…éƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚

æˆ‘ä»¬æŠŠè¿™ç§å¤åˆ¶å¼•ç”¨çš„æ‹·è´æ–¹æ³•ç§°ä¹‹ä¸ºæµ…æ‹·è´ï¼Œä¸ä¹‹å¯¹åº”çš„å°±æ˜¯æ·±æ‹·è´ï¼Œæ·±æ‹·è´å°±æ˜¯æŒ‡å®Œå…¨çš„æ‹·è´ä¸€ä¸ªå¯¹è±¡ï¼Œå³ä½¿åµŒå¥—äº†å¯¹è±¡ï¼Œä¸¤è€…ä¹Ÿç›¸äº’åˆ†ç¦»ï¼Œä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œä¹Ÿä¸ä¼šå½±å“å¦ä¸€ä¸ªã€‚
ä½¿ç”¨concatå’Œsliceæ˜¯ä¸€ç§æµ…æ‹·è´ã€‚

## æ·±æ‹·è´
æ·±æ‹·è´é‡‡ç”¨é€’å½’çš„æ–¹å¼å»æ‹·è´å¯¹è±¡ï¼Œæ¥è§£å†³æµ…æ‹·è´çš„å¼Šç«¯ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ·±æ‹·è´æ˜¯å¯¹å¯¹è±¡ä»¥åŠå¯¹è±¡çš„æ‰€æœ‰å­å¯¹è±¡è¿›è¡Œæ‹·è´ã€‚
```js
var obj1 = {
	name: 'lisi',
	age: 18,
	job: 'worker',
	arr1: [1, 2, 3, 4, 5],
	arr2:[
        {name: 'wangwu', age: 22, job: 'teacher'},
        {name: 'zhaoliu', age: 22, job: 'student'}
	]};
var obj2 = {};
function deepClone(obj1, obj2) {
	var obj2 = obj2 || {}; // ç»™obj2ä¸€ä¸ªåˆå§‹å€¼=å®ƒè‡ªå·±æˆ–è€…æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡
	for(let key in obj1) {
		if(typeof obj1[key] === 'object') { // å…ˆåˆ¤æ–­obj1[key]æ˜¯å¦æ˜¯å¯¹è±¡
			obj2[key] = (obj1[key].constructor === Array) ? [] : {};
			copy(obj1[key], obj2[key]); // å¾ªç¯è°ƒç”¨å¤åˆ¶å‡½æ•°
		}
		else {
			obj2[key] = obj1[key]; // obj1[key]ä¸æ˜¯å¯¹è±¡åˆ™ç›´æ¥å¤åˆ¶
		}
	}
	return obj2;
}

obj2 = deepClone(obj1, obj2);
obj2.arr1.push(6);

console.log(obj2.arr1);
console.log(obj1.arr1);
```
### å®ç°æ·±æ‹·è´
```js
Object.prototype.toString.call([]).slice(8, -1); // "Array"
```
```js
const arr = [4, 5, 6];
// for...inéå†æ•°ç»„çš„æ—¶å€™éå†çš„æ˜¯å…ƒç´ ä¸‹æ ‡
for (let key in arr) {
    console.log(key); // 0 1 2
}
```
```js
function getObjectType(obj) {
    const type = Object.prototype.toString.call(obj).slice(8, -1);
    if (type === 'Null') {
        return 'Null';
    } else if (type === 'Undefined') {
        return 'Undefined';
    } else {
        return type;
    }
}
function deepClone(obj) {
    let res, objType = getObjectType(obj);
    // å…ˆåˆ¤æ–­objçš„ç±»å‹ï¼Œåªæœ‰æ˜¯å¼•ç”¨ç±»å‹æ‰è¿›è¡Œéå†
    if (objType === 'Object') {
        res = {};
    } else if (objType === 'Array') {
        res = [];
    } else {
        // å¦‚æœæ˜¯åŸºæœ¬æ•°æ®æ•°æ®ç±»å‹ä¸å¤åˆ¶ï¼Œç›´æ¥å°†æºæ•°æ®è¿”å›
        return obj;
    }
    // éå†ç›®æ ‡å¯¹è±¡
    for (let key in obj) {
        const value = obj[key];
        res[key] = deepClone(value);
    }
    return res;
}

const obj = {
    name: 'lisi',
    age: 12,
    hobbies: ['ğŸ€', 'âš½ï¸'],
    other: {
        a: 1,
        b: 2
    }
}
const obj2 = deepClone(obj);
console.log(obj2);
obj2.other.a = 666;
obj.hobbies.push('ğŸ’°');
console.log(obj);
console.log(obj2);
```
```js
{ name: 'lisi',
  age: 12,
  hobbies: [ 'ğŸ€', 'âš½ï¸' ],
  other: { a: 1, b: 2 } }
{ name: 'lisi',
  age: 12,
  hobbies: [ 'ğŸ€', 'âš½ï¸', 'ğŸ’°' ],
  other: { a: 1, b: 2 } }
{ name: 'lisi',
  age: 12,
  hobbies: [ 'ğŸ€', 'âš½ï¸' ],
  other: { a: 666, b: 2 } }
```
## å¼•ç”¨ç±»å‹æ•°æ®æ·±æ‹·è´å®ç°
å¯¹è±¡æ·±æ‹·è´éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼š
1. å±æ€§ä¸ºå‡½æ•°
2. å±æ€§ä¸ºnullæˆ–è€…undefined
3. å±æ€§ä¸ºDate
4. å±æ€§ä¸ºæ­£åˆ™
```js
const deepClone = obj => {
    // åªæ‹·è´å¯¹è±¡
    if (typeof obj !== 'object') return;
    // æ ¹æ®objçš„ç±»å‹åˆ¤æ–­æ˜¯æ–°å»ºä¸€ä¸ªæ•°ç»„è¿˜æ˜¯å¯¹è±¡
    const new_obj = obj instanceof Array ? [] : {};
    for (let key in obj) {
        console.log(key);
        // éå†objï¼Œå¹¶ä¸”åˆ¤æ–­æ˜¯objçš„å±æ€§æ‰æ‹·è´
        if (obj.hasOwnProperty(key)) {
            // æ ¸å¿ƒéƒ¨åˆ†ï¼Œåˆ¤æ–­æ˜¯å¯¹è±¡ç±»å‹åˆ™é€’å½’æ‹·è´
            new_obj[key] = typeof obj[key] === 'object' ? deepClone(obj[key]) : obj[key];
        }
    }
    return new_obj;
};

console.log(deepClone([{name: 'lisi', age: 22, hobbies: ['ç¯®çƒ', 'è¶³çƒ']}]));
```
```js
// é€’å½’æ‹·è´
// hash = new WeakMap å“ˆå¸Œè¡¨è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜
// WeakMap å¼±å¼•ç”¨ï¼Œä¸èƒ½ç”¨Mapï¼Œä¼šå¯¼è‡´å†…å­˜æ³„éœ²
function deepClone(value, hash = new WeakMap) {
    // å…ˆæŠŠç‰¹æ®Šæƒ…å†µå…¨éƒ¨è¿‡æ»¤æ‰
    // null == undefined // true
    // æ’é™¤nullå’Œundefined
    if (value == null) { // nullå’Œundefined æ˜¯ä¸éœ€è¦æ‹·è´çš„ï¼Œç›´æ¥è¿”å›
        return value;
    }
    if (value instanceof RegExp) { // å¤„ç†æ­£åˆ™
        return new RegExp(value);
    }
    if (value instanceof Date) { // å¤„ç†æ—¥æœŸ
        return new Date(value);
    }
    // å‡½æ•°æ˜¯ä¸éœ€è¦æ‹·è´çš„
    // æ’é™¤ä¸æ˜¯å¯¹è±¡ç±»å‹ï¼ŒåŒ…æ‹¬å‡½æ•°å’ŒåŸºæœ¬æ•°æ®ç±»å‹
    if (typeof value !== 'object') {
        return value;
    }
    // æ ¹æ®constructoræ¥åŒºåˆ†å¯¹è±¡å’Œæ•°ç»„
    let obj = new value.constructor();
    // è¯´æ˜æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹
    if (hash.get(value)) { // æœ‰æ‹·è´çš„å°±ç›´æ¥è¿”å›
        return hash.get(value);
    }
    hash.set(value, obj); // åˆ¶ä½œä¸€ä¸ªæ˜ å°„è¡¨ï¼Œè§£å†³å¾ªç¯æ‹·è´é—®é¢˜
    // åŒºåˆ†å¯¹è±¡å’Œæ•°ç»„
    for (let key in value) {
        // ä¸æ‹·è´åŸå‹é“¾ä¸Šçš„å±æ€§
        if (value.hasOwnProperty(key)) {
            // é€’å½’æ‹·è´
            obj[key] = deepClone(value[key], hash);
        }
    }
    return obj;
}
// let obj = {name: 'lisi', age: {num: 10}};
let obj = [[1, 2, 3]];
let obj1 = deepClone(obj);
// obj.age.num = 100;
console.log(obj); // { name: 'lisi', age: { num: 100 } }
// obj1.age.num = 1000;
console.log(obj1); // { name: 'lisi', age: { num: 1000 } }

let o = {};
o.x = o; // å¾ªç¯å¼•ç”¨ï¼Œæ­»å¾ªç¯äº†
let o1 = deepClone(o); // å¦‚æœè¿™ä¸ªå¯¹è±¡æ‹·è´è¿‡äº†ï¼Œå°±è¿”å›é‚£ä¸ªæ‹·è´çš„ç»“æœå°±å¯ä»¥äº†
console.log(o1); // RangeError: Maximum call stack size exceeded
// { x: [Circular] }

// åˆ¤æ–­ç±»å‹ typeof instanceof constructor
// Object.prototype.toString.call()
```
```js
// æ ¹æ®constructoræ¥åŒºåˆ†å¯¹è±¡å’Œæ•°ç»„
// let obj = new value.constructor();

[1, 2].constructor
Æ’ Array() { [native code] }

let obj = {name: 'lisi'}
obj.constructor
Æ’ Object() { [native code] }
```
## æ€»ç»“
æ‰€è°“çš„æ·±æ‹·è´å’Œæµ…æ‹·è´ï¼Œé’ˆå¯¹æ˜¯`Objectå’ŒArray`è¿™æ ·çš„å¼•ç”¨æ•°æ®ç±»å‹ã€‚

* æµ…æ‹·è´ï¼šåªæ‹·è´ç¬¬ä¸€å±‚çš„åŸå§‹ç±»å‹å€¼ï¼Œå’Œç¬¬ä¸€å±‚çš„å¼•ç”¨ç±»å‹åœ°å€ã€‚
* æ·±æ‹·è´ï¼šæ‹·è´æ‰€æœ‰çš„å±æ€§å€¼ï¼Œä»¥åŠå±æ€§åœ°å€æŒ‡å‘çš„å€¼çš„å†…å­˜ç©ºé—´ã€‚

é€šè¿‡é€’å½’æ‹·è´æˆ–è€…JSONæ¥åšæ·±æ‹·è´ï¼Œéƒ½ä¼šæœ‰ä¸€äº›é—®é¢˜ã€‚

éœ€è¦æ³¨æ„ï¼šä»¥ä¸‹æ–¹æ³•éƒ½å±äºæµ…æ‹·è´ã€‚
* å¯¹è±¡çš„Object.assign()
* æ•°ç»„çš„Array.prototype.slice()
* æ•°ç»„çš„Array.prototype.concat()
* æ•°ç»„çš„Array.from()
* ES6çš„æ‰©å±•è¿ç®—ç¬¦

## å‚è€ƒæ–‡æ¡£
1. [ç»ˆäºå¼„æ¸…æ¥šJSçš„æ·±æ‹·è´å’Œæµ…æ‹·è´äº†](https://blog.csdn.net/weixin_37719279/article/details/81240658)[å‰ç«¯é¢è¯•é¢˜ç³»åˆ—9ã€æµ…æ‹·è´ä¸æ·±æ‹·è´çš„å«ä¹‰ã€åŒºåˆ«åŠå®ç°ï¼ˆæ–‡æœ«æœ‰å²—ä½å†…æ¨å“¦~ï¼‰](https://segmentfault.com/a/1190000018879536#articleHeader5)
2. [æ·±æ‹·è´çš„ç»ˆææ¢ç´¢ï¼ˆ90%çš„äººéƒ½ä¸çŸ¥é“ï¼‰](https://juejin.im/post/5bc1ae9be51d450e8b140b0c#heading-3)
3. [JavaScriptä¸“é¢˜ä¹‹æ·±æµ…æ‹·è´](https://juejin.im/post/59658504f265da6c415f3324)
4. [jsä¸­å¯¹è±¡çš„å¤åˆ¶ï¼Œæµ…å¤åˆ¶ï¼ˆæµ…æ‹·è´ï¼‰å’Œæ·±å¤åˆ¶ï¼ˆæ·±æ‹·è´ï¼‰](https://www.jianshu.com/p/0d7bd31ccf43)
5. [æµ…è°ˆjsä¸­çš„æµ…æ‹·è´å’Œæ·±æ‹·è´](https://www.cnblogs.com/MECN/p/6606119.html)
6. [javascriptä¸­çš„æ·±æ‹·è´å’Œæµ…æ‹·è´ï¼Ÿ](https://www.zhihu.com/question/23031215)
7. [React æ•°æ®ä¸ºä»€ä¹ˆè¦ä½¿ç”¨immutableæ–¹å¼ï¼Ÿæµ…å¤åˆ¶ä¸æ·±å¤åˆ¶æ€è€ƒ](https://segmentfault.com/a/1190000006729489)
8. [é¢è¯•å®˜:è¯·ä½ å®ç°ä¸€ä¸ªæ·±å…‹éš†](https://juejin.im/post/5abb55ee6fb9a028e33b7e0a)
9. [jsæµ…æ‹·è´ä¸æ·±æ‹·è´æ–¹æ³•](https://segmentfault.com/a/1190000016440069#articleHeader7)