---
title: 12. JSç»§æ‰¿æ–¹å¼å’Œä¼˜ç¼ºç‚¹
---
::: tip
å†™ä½œä¸æ˜“ï¼ŒStaræ˜¯æœ€å¤§é¼“åŠ±ï¼Œæ„Ÿè§‰å†™çš„ä¸é”™çš„å¯ä»¥ç»™ä¸ªStarâ­ï¼Œè¯·å¤šå¤šæŒ‡æ•™ã€‚[æœ¬åšå®¢çš„Githubåœ°å€](https://github.com/liujie2019/VuePress-Blog)ã€‚
:::

ç”±äºjsä¸åƒjavaé‚£æ ·æ˜¯çœŸæ­£é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œjsæ˜¯åŸºäºå¯¹è±¡çš„ï¼Œå®ƒæ²¡æœ‰ç±»çš„æ¦‚å¿µã€‚æ‰€ä»¥ï¼Œè¦æƒ³å®ç°ç»§æ‰¿ï¼Œå¯ä»¥ç”¨jsçš„åŸå‹
prototypeæœºåˆ¶æˆ–è€…ç”¨applyå’Œcallæ–¹æ³•å»å®ç°ã€‚åœ¨jsä¸­ï¼Œè¢«ç»§æ‰¿çš„å‡½æ•°ç§°ä¸ºè¶…ç±»å‹ï¼ˆçˆ¶ç±»ï¼ŒåŸºç±»ä¹Ÿè¡Œï¼‰ï¼Œç»§æ‰¿çš„å‡½æ•°ç§°ä¸ºå­ç±»å‹ï¼ˆå­ç±»ï¼Œæ´¾ç”Ÿç±»ï¼‰ã€‚
ä¸‹é¢ä»‹ç»ä¸€äº›jsç»§æ‰¿çš„æ–¹å¼ï¼š

## åŸå‹é“¾ç»§æ‰¿
::: tip
åŸºæœ¬æ€æƒ³ï¼šåˆ©ç”¨åŸå‹è®©ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯¹è±¡é—´ä¾é åŸå‹é“¾æ¥å®ç°ç»§æ‰¿ã€‚
éœ€è¦æ³¨æ„ï¼šæ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œæ¯ä¸ªå¯¹è±¡(åŒ…æ‹¬åŸå‹å¯¹è±¡)éƒ½æœ‰ä¸€ä¸ª`__proto__`å±æ€§ã€‚
:::
```js
function Parent() {}
Parent.prototype.sayName = function() {
    console.log(this.name)
}
function Child(name, age) {
    this.name = name;
    this.age = age;
}
Child.prototype = new Parent();
const child = new Child('lisi', 12);
// è°ƒç”¨ç»§æ‰¿çš„sayNameæ–¹æ³•
child.sayName(); // lisi
```
ä¸Šè¿°ä»£ç çš„é‡ç‚¹åœ¨äºï¼š
```js
Child.prototype = new Parent();
```
å®ç°ç»§æ‰¿çš„æœ¬è´¨æ˜¯ï¼šç”¨çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡æ¥é‡å†™å­ç±»çš„åŸå‹å¯¹è±¡(å­ç±»é»˜è®¤çš„åŸå‹å¯¹è±¡æ˜¯ä¸€ä¸ªObjectçš„ç©ºå¯¹è±¡)ã€‚è¿™æ ·ä¸€æ¥ï¼ŒåŸæ¥å­˜åœ¨äºçˆ¶ç±»å®ä¾‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿä¼šå­˜åœ¨äºå­ç±»çš„åŸå‹å¯¹è±¡ä¸Šã€‚åŒæ—¶ï¼ŒChild.prototypeä¸­ä¹Ÿä¼šåŒ…å«ä¸€ä¸ªæŒ‡å‘Parent.prototypeçš„æŒ‡é’ˆã€‚

å½¢æˆåŸå‹é“¾ï¼šchild ==> Child.prototype ==> Parent.prototype ==> Object.prototype ==> nullã€‚

::: warning
éœ€è¦æ³¨æ„ï¼šä»»ä½•ä¸€ä¸ªåŸå‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªconstructorå±æ€§ï¼ŒæŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°ã€‚å¦‚æœæ²¡æœ‰`Child.prototype = new Parent();`è¿™ä¸€è¡Œï¼ŒChild.prototype.constructoræ˜¯æŒ‡å‘Childçš„ï¼›åŠ äº†è¿™ä¸€è¡Œä»¥åï¼Œå­ç±»åŸå‹è¢«é‡å†™åï¼ŒChild.prototypeå°†ä¸å†æœ‰constructorå±æ€§ï¼Œå› æ­¤ä¼šæ²¿ç€åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼ŒChild.prototype.constructoræœ€ç»ˆæŒ‡å‘äº†Parentã€‚æ‰€ä»¥ï¼Œä¸ºäº†ç¡®ä¿Child.prototype.constructoræ˜¯æŒ‡å‘Childï¼Œéœ€è¦é‡æ–°æŒ‡å®š`Child.prototype.constructor = Child`;
:::

::: warning
ä»¥ä¸ŠåŸå‹é“¾ç»§æ‰¿è¿˜ç¼ºå°‘ä¸€ç¯ï¼Œé‚£å°±æ˜¯Objectï¼Œæ‰€æœ‰çš„æ„é€ å‡½æ•°éƒ½ç»§æ‰¿è‡ªObjectã€‚è€Œç»§æ‰¿Objectæ˜¯è‡ªåŠ¨å®Œæˆçš„ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨ç»§æ‰¿ã€‚
:::

### ç›´æ¥ç»§æ‰¿prototype
ç”±äºParentå¯¹è±¡ä¸­ï¼Œä¸å˜çš„å±æ€§éƒ½å¯ä»¥ç›´æ¥å†™å…¥Parent.prototypeã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®©Childç›´æ¥ç»§æ‰¿Parent.prototypeã€‚
```js
function Parent() {}
function Child(name, age) {
    this.name = name;
    this.age = age;
}
// å°†Childçš„prototypeå¯¹è±¡ï¼Œç„¶åæŒ‡å‘Parentçš„prototypeå¯¹è±¡ï¼Œè¿™æ ·å°±å®Œæˆäº†ç»§æ‰¿
Child.prototype = Parent.prototype;
Child.prototype.constructor = Child; // è¿™é‡ŒåŒæ ·ä¼šä¿®æ”¹Parentçš„æ„é€ å‡½æ•°
let child = new Child('lisi', 12);

console.log(Child.prototype.constructor); // Child
console.log(Parent.prototype.constructor); // Child
```
ä¸å‰ä¸€ç§æ–¹æ³•ç›¸æ¯”ï¼Œ
* ä¼˜ç‚¹ï¼šæ•ˆç‡æ¯”è¾ƒé«˜ï¼Œä¸ç”¨æ‰§è¡Œå’Œå»ºç«‹Parentçš„å®ä¾‹äº†ï¼Œæ¯”è¾ƒçœå†…å­˜ã€‚
* ç¼ºç‚¹ï¼šChild.prototypeå’ŒParent.prototypeç°åœ¨æŒ‡å‘äº†åŒä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä»»ä½•å¯¹Child.prototypeçš„ä¿®æ”¹ï¼Œéƒ½ä¼šåæ˜ åˆ°Parent.prototypeä¸Šã€‚

### ç¡®å®šåŸå‹å’Œå®ä¾‹çš„å…³ç³»
å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥ç¡®å®šåŸå‹å’Œå®ä¾‹ä¹‹é—´çš„å…³ç³»ï¼šinstanceofæ“ä½œç¬¦å’ŒisPrototypeofæ–¹æ³•ã€‚
```js
console.log(child instanceof Child); // true
console.log(child instanceof Parent); // true

console.log(Child.prototype.isPrototypeOf(child)); // true
console.log(Parent.prototype.isPrototypeOf(Child.prototype)); // true
```
### åŸå‹é“¾ç»§æ‰¿é—®é¢˜
* å¼•ç”¨ç±»å‹çš„åŸå‹å±æ€§å°†è¢«æ‰€æœ‰å®ä¾‹å…±äº«

ä¸¾ä¸ªğŸŒ°ï¼š
```js
function Parent() {
    this.colors = ['red','blue'];
}

function Child() {}

Child.prototype = new Parent();

let child1 = new Child();
child1.colors.push('green');
console.log(child1.colors); // ["red", "blue", "green"]
let child2 = new Child();
console.log(child2.colors); // ["red", "blue", "green"]
```
* åˆ›å»ºå­ç±»å®ä¾‹çš„æ—¶å€™ï¼Œæ— æ³•å‘çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¼ é€’å‚æ•°

## å€Ÿç”¨æ„é€ å‡½æ•°(ç±»å¼ç»§æ‰¿)
åŸç†ï¼šåœ¨å­ç±»å‹æ„é€ å‡½æ•°çš„å†…éƒ¨è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ã€‚
ä¸ºäº†è§£å†³å¼•ç”¨ç±»å‹çš„åŸå‹å±æ€§å…±äº«å’Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨å€Ÿç”¨æ„é€ å‡½æ•°æ¨¡å¼ã€‚
```js
function Parent(name) {
    this.colors = ['red','blue','green'];
    this.name = name;
}
function Child(name) {
    // ç»§æ‰¿çˆ¶ç±»ï¼ŒåŒæ—¶è¿˜å¯ä»¥å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ é€’å‚æ•°
    Parent.call(this, name);
}
let child1 = new Child('lisi');
let child2 = new Child('wangwu');
console.log(child1.name); // lisi
console.log(child2.name); // wangwu
child1.colors.push('yellow');
console.log(child1.colors); // ["red", "blue", "green", "yellow"]
console.log(child2.colors); // ["red", "blue", "green"]
```
### å€Ÿç”¨æ„é€ å‡½æ•°ä¼˜ç¼ºç‚¹
ä¼˜ç‚¹ï¼š
* é¿å…äº†å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼›
* å¯ä»¥åœ¨Childä¸­å‘Parentä¼ å‚ã€‚

å€Ÿç”¨æ„é€ å‡½æ•°è™½ç„¶è§£å†³äº†åˆšæ‰åŸå‹é“¾ç»§æ‰¿çš„ä¸¤ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºæ–°çš„å®ä¾‹å¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚æ²¡æœ‰åŸå‹ï¼Œå¤ç”¨åˆ™æ— ä»è°ˆèµ·ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŸå‹é“¾+å€Ÿç”¨æ„é€ å‡½æ•°çš„ç»§æ‰¿æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼ç§°ä¸ºç»„åˆç»§æ‰¿ã€‚

## ç»„åˆç»§æ‰¿(æ¨èä½¿ç”¨)
::: tip
ç»„åˆå¼ç»§æ‰¿æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ç§ç»§æ‰¿æ–¹æ³•ï¼Œå…¶ä¸»è¦æ€è·¯æ˜¯ï¼šä½¿ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œè€Œé€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥å®ç°å¯¹å®ä¾‹å±æ€§çš„ç»§æ‰¿ã€‚è¿™æ ·ï¼Œæ—¢é€šè¿‡åœ¨åŸå‹ä¸Šå®šä¹‰çš„æ–¹æ³•å®ç°äº†å¤ç”¨ï¼Œåˆä¿è¯æ¯ä¸ªå®ä¾‹éƒ½æœ‰å®ƒè‡ªå·±çš„å±æ€§ã€‚

ç‰¹ç‚¹ï¼šçˆ¶ç±»ç§æœ‰å’Œå…¬æœ‰çš„å±æ€§æ–¹æ³•åˆ†åˆ«æ˜¯å­ç±»å®ä¾‹çš„ç§æœ‰å’Œå…¬æœ‰çš„å±æ€§æ–¹æ³•ã€‚
:::
```js
function Parent(name) {
    this.colors = ['red','blue','green'];
    this.name = name;
}
Parent.prototype.sayName = function() {
    console.log(this.name);
}
function Child(name) {
    // å¯¹è±¡å†’å……ï¼ŒåŒæ—¶ç»™çˆ¶ç±»ä¼ é€’nameå‚æ•°
    Parent.call(this, name); // å®ç°çˆ¶ç±»ç§æœ‰å±æ€§å’Œæ–¹æ³•ç»§æ‰¿
}
Child.prototype = new Parent(); // åŸå‹é“¾ç»§æ‰¿ï¼Œå®ç°çˆ¶ç±»åŸå‹å±æ€§å’Œæ–¹æ³•ç»§æ‰¿

const child1 = new Child('lisi');
child1.colors.push('yellow');
console.log(child1.colors); // ["red", "blue", "green", "yellow"]
child1.sayName(); // lisi

const child2 = new Child('wangwu');
console.log(child2.colors); // ["red", "blue", "green"]
child2.sayName(); // wangwu
```
ä¸Šè¿°ä¾‹å­å®ç°äº†åŸå‹æ–¹æ³•sayNameçš„å¤ç”¨ï¼ŒåŒæ—¶æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„nameå’Œcolorså±æ€§ã€‚

## åŸå‹å¼ç»§æ‰¿
åŸå‹å¼ç»§æ‰¿ï¼Œè¦æ±‚å¿…é¡»æœ‰ä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„åŸºç¡€ã€‚å¦‚æœæœ‰è¿™ä¹ˆä¸€ä¸ªå¯¹è±¡çš„è¯ï¼Œå¯ä»¥æŠŠå®ƒä¼ é€’ç»™objectå‡½æ•°ï¼Œç„¶åå†æ ¹æ®å…·ä½“è¦æ±‚å¯¹å¾—åˆ°çš„å¯¹è±¡åŠ ä»¥ä¿®æ”¹å³å¯ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡åŸºç¡€çš„æ˜¯personå¯¹è±¡ï¼Œæˆ‘ä»¬å°†å…¶ä¼ å…¥objectå‡½æ•°ï¼Œç„¶åè¯¥å‡½æ•°å°±ä¼šè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ã€‚è¿™ä¸ªæ–°å¯¹è±¡å°†personå¯¹è±¡ä½œä¸ºåŸå‹ï¼Œæ‰€ä»¥å®ƒçš„åŸå‹ä¸­å°±åŒ…å«ä¸€ä¸ªåŸºæœ¬ç±»å‹å€¼å±æ€§nameå’Œä¸€ä¸ªå¼•ç”¨ç±»å‹å€¼å±æ€§familyã€‚ä¹Ÿå°±è¯´person.familyä¸ä»…å±äºpersonæ‰€æœ‰ï¼Œè€Œä¸”ä¹Ÿä¼šè¢«p1å’Œp2å…±äº«ã€‚è¿™å°±ç›¸å½“äºåˆåˆ›å»ºäº†personå¯¹è±¡çš„ä¸¤ä¸ªå‰¯æœ¬(å³å¯¹personå¯¹è±¡è¿›è¡Œäº†æµ…å¤åˆ¶)ã€‚

```js
// è¿™ç§ç»§æ‰¿æ–¹å¼å€ŸåŠ©åŸå‹å¹¶åŸºäºå·²æœ‰çš„å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡
// åŸå‹å¼ç»§æ‰¿é¦–å…ˆåœ¨objectå‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ€§çš„æ„é€ å‡½æ•° ï¼Œç„¶åå°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºè¿™ä¸ªæ„é€ å‡½æ•°çš„åŸå‹ï¼Œæœ€åè¿”å›è¿™ä¸ªä¸´æ—¶æ„é€ å‡½æ•°çš„ä¸€ä¸ªæ–°å®ä¾‹ã€‚
function object(o) {
    function F() {}
    F.prototype = o;
    return new F();
}
let person = {
    name: 'lisi',
    family: ['brother', 'sister', 'me']
};
let p1 = object(person);
p1.name = 'wangwu';
p1.family.push('mother');
console.log(p1.name); // wangwu
console.log(p1.family); // ["brother", "sister", "me", "mother"]

let p2 = object(person);
p2.name = 'zhaoliu';
p2.family.push('father');
console.log(p2.name); // zhaoliu
console.log(p2.family); // ["brother", "sister", "me", "mother", "father"]
console.log(person.name); // lisi
console.log(person.family); // ["brother", "sister", "me", "mother", "father"]
```
### è§„èŒƒåŒ–çš„åŸå‹å¼ç»§æ‰¿-Object.create()
ECMAScript5æ–°å¢äº†Object.create()æ–¹æ³•è§„èŒƒåŒ–äº†åŸå‹å¼ç»§æ‰¿ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªç”¨ä½œæ–°å¯¹è±¡åŸå‹çš„å¯¹è±¡å’Œä¸€ä¸ªä¸ºæ–°å¯¹è±¡å®šä¹‰é¢å¤–å±æ€§çš„å¯¹è±¡(å¯é€‰å‚æ•°)ã€‚
```js
let person = {
    name: 'lisi',
    family: ['brother', 'sister', 'me']
};
let p1 = Object.create(person);
p1.name = 'wangwu';
p1.family.push('mother');
console.log(p1.name); // wangwu
console.log(p1.family); // ["brother", "sister", "me", "mother"]

let p2 = Object.create(person);
p2.name = 'zhaoliu';
p2.family.push('father');
console.log(p2.name); // zhaoliu
console.log(p2.family); // ["brother", "sister", "me", "mother", "father"]
console.log(person.name); // lisi
console.log(person.family); // ["brother", "sister", "me", "mother", "father"]
```
Object.create()æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¸Object.defineProperties()æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ ¼å¼ç›¸åŒï¼šæ¯ä¸ªå±æ€§éƒ½æ˜¯é€šè¿‡è‡ªå·±çš„æè¿°ç¬¦å®šä¹‰çš„ã€‚ä»¥è¿™ç§æ–¹å¼æŒ‡å®šçš„ä»»ä½•å±æ€§éƒ½ä¼šè¦†ç›–åŸå‹å¯¹è±¡ä¸Šçš„åŒåå±æ€§ã€‚
```js
let p3 = Object.create(person, {
    name: { // å±æ€§æè¿°ç¬¦å¯¹è±¡
        value: 'zhangsan'
    }
});
console.log(p3.name); // zhangsan  è¦†ç›–äº†åŸå‹ä¸Šçš„nameå±æ€§
console.log(p3.family); // ["brother", "sister", "me", "mother", "father"]
```
### åŸå‹å¼ç»§æ‰¿åº”ç”¨åœºæ™¯
å¦‚æœåªæ˜¯æƒ³è®©ä¸€ä¸ªå¯¹è±¡ä¸å¦ä¸€ä¸ªå¯¹è±¡ä¿æŒç±»ä¼¼çš„è¯ï¼ŒåŸå‹å¼ç»§æ‰¿å®Œå…¨å¯ä»¥èƒœä»»ã€‚
```js
// åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡
Object.create(null);
```
### åŸå‹å¼ç»§æ‰¿ç¼ºç‚¹
* ä¸åŸå‹é“¾ç»§æ‰¿ä¸€æ ·ï¼Œå¼•ç”¨ç±»å‹å€¼çš„å±æ€§å§‹ç»ˆéƒ½ä¼šå…±äº«ç›¸åº”çš„å€¼ã€‚

## å¯„ç”Ÿå¼ç»§æ‰¿
å¯„ç”Ÿå¼ç»§æ‰¿æ˜¯ä¸åŸå‹å¼ç»§æ‰¿ç´§å¯†ç›¸å…³çš„ä¸€ç§æ€è·¯ï¼Œè¿™ç§ç»§æ‰¿æ–¹å¼æ˜¯æŠŠåŸå‹å¼ç»§æ‰¿+å·¥å‚æ¨¡å¼ç»“åˆèµ·æ¥ï¼Œåˆ›å»ºä¸€ä¸ªä»…ç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°å†…éƒ¨ä»¥æŸç§æ–¹å¼æ¥å¢å¼ºå¯¹è±¡ï¼Œæœ€åå†åƒçœŸåœ°æ˜¯å®ƒåšäº†æ‰€æœ‰å·¥ä½œä¸€æ ·è¿”å›å¯¹è±¡ã€‚

æ ¹æ®å·²æœ‰å¯¹è±¡personï¼Œåˆ©ç”¨åŸå‹å¼ç»§æ‰¿è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶æ ¹æ®è¦æ±‚å¯¹è¯¥å¯¹è±¡è¿›è¡Œå¢å¼ºã€‚
```js
function object(o) {
    function F(){}
    F.prototype = o;
    return new F();
}
let person = {
    name: 'lisi',
    family: ['brother', 'sister', 'me']
};
function createPerson(o) { // å·¥å‚æ¨¡å¼
    let clone = object(o); // é€šè¿‡è°ƒç”¨objectå‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
    clone.sayName = function() { // æŒ‰è¦æ±‚å¢å¼ºå¯¹è±¡
        console.log(this.name);
    }
    return clone;
}
let p1 = createPerson(person);
// p1æ˜¯äº§ç”Ÿçš„æ–°å¯¹è±¡ï¼Œä¸ä»…å…·æœ‰personçš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿˜æœ‰è‡ªå·±çš„sayNameæ–¹æ³•
p1.sayName(); // lisi
console.log(p1.name); // lisi
console.log(p1.family); // ["brother", "sister", "me"]
```
### å¯„ç”Ÿå¼ç»§æ‰¿ç¼ºç‚¹
* ç¼ºç‚¹ï¼šè·Ÿå€Ÿç”¨æ„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚
## å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿
è¿™ç§ç»§æ‰¿æ–¹å¼çš„ç›®çš„åœ¨äºï¼šè§£å†³ç»„åˆç»§æ‰¿ä¸­çˆ¶ç±»æ„é€ å‡½æ•°è°ƒç”¨ä¸¤æ¬¡é€ æˆçš„å­ç±»åŸå‹ä¸Šåˆ›å»ºå¤šä½™çš„ã€ä¸å¿…è¦çš„å±æ€§çš„é—®é¢˜ã€‚

æ‰€è°“å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼Œå³é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥ç»§æ‰¿å±æ€§ï¼Œé€šè¿‡åŸå‹é“¾çš„æ··æˆå½¢å¼æ¥ç»§æ‰¿æ–¹æ³•ã€‚åŸºæœ¬æ€è·¯æ˜¯ï¼šä¸å¿…ä¸ºæŒ‡å®šå­ç±»å‹çš„åŸå‹è€Œè°ƒç”¨è¶…ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬æ‰€éœ€è¦çš„æ— éå°±æ˜¯è¶…ç±»å‹åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬è€Œå·²ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¯„ç”Ÿå¼ç»§æ‰¿æ¥ç»§æ‰¿è¶…ç±»å‹çš„åŸå‹ï¼Œç„¶åå†å°†ç»“æœæŒ‡å®šç»™å­ç±»å‹çš„åŸå‹ã€‚è¿™æ ·å°±å¯ä»¥é¿å…ä¸¤æ¬¡è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œä¸ä¼šåœ¨å­ç±»åŸå‹ä¸Šåˆ›å»ºå¤šä½™çš„ã€ä¸å¿…è¦çš„å±æ€§ã€‚
### ç»„åˆå¼ç»§æ‰¿çš„é—®é¢˜
ç»„åˆå¼ç»§æ‰¿æ˜¯jsæœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ï¼Œä½†ç»„åˆç»§æ‰¿çš„è¶…ç±»å‹åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡ï¼›ä¸€æ¬¡æ˜¯åˆ›å»ºå­ç±»å‹åŸå‹çš„æ—¶å€™ï¼Œå¦ä¸€æ¬¡æ˜¯åœ¨å­ç±»å‹æ„é€ å‡½æ•°çš„å†…éƒ¨ã€‚
å­ç±»åŸå‹ä¸Šæœ€ç»ˆä¼šåŒ…å«è¶…ç±»å‹å¯¹è±¡çš„å…¨éƒ¨å®ä¾‹å±æ€§ï¼Œè€Œè¿™äº›å±æ€§æ˜¯å¤šä½™çš„ã€‚
```js
function SuperType(name) {
    this.name = name;
    this.color = ['red','blue','yellow'];
}
SuperType.prototype.sayName = function() {
    console.log(this.name);
};
function SubType(name, age) {
    SuperType.call(this, name); // ç¬¬äºŒæ¬¡è°ƒç”¨SuperType()
    this.age = age;
}
SubType.prototype = new SuperType(); // ç¬¬ä¸€æ¬¡è°ƒç”¨SuperType()
console.log(SubType.prototype.constructor); // SuperType(name)
SubType.prototype.constructor = SubType; // è¿™é‡Œå¦‚æœä¸è®¾ç½®ï¼ŒSubType.prototype.constructorå°†æŒ‡å‘SuperTypeï¼Œå› ä¸ºä¸Šé¢å®ç°ç»§æ‰¿çš„åŒæ—¶ä¹Ÿé‡å†™äº†SubType.prototype
SubType.prototype.sayAge = function() {
    console.log(this.age);
};
```
::: warning
å­ç±»åŸå‹ä¸Šåˆ›å»ºå¤šä½™çš„ã€ä¸å¿…è¦çš„å±æ€§çš„è¿‡ç¨‹ï¼šç¬¬ä¸€æ¬¡è°ƒç”¨SuperType()æ—¶ï¼Œä¼šå°†SuperTypeå®ä¾‹ä¸Šçš„nameå’Œcolorå±æ€§æŒ‚è½½åˆ°SubType.prototypeä¸Šï¼›ç¬¬äºŒæ¬¡è°ƒç”¨SuperType()æ—¶ï¼Œä¼šå°†nameå’Œcolorå±æ€§æŒ‚è½½åˆ°SubTypeå®ä¾‹å¯¹è±¡ä¸Šï¼ŒSubTypeå®ä¾‹ä¸Šæ‹¥æœ‰è‡ªå·±çš„nameå’Œcolorå±æ€§ï¼Œå› æ­¤SubType.prototypeä¸Šçš„nameå’Œcolorå±æ€§éƒ½æ˜¯å¤šä½™çš„ã€‚
:::

### å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿å®ç°
```js
function object(o) { //o = SuperType.prototype
    // å°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºåˆ›å»ºçš„å¯¹è±¡çš„åŸå‹
    function F(){}
    F.prototype = o; // F.prototype = SuperType.prototype
    return new F(); //è¿™é‡Œè¿”å›çˆ¶ç±»åŸå‹çš„å‰¯æœ¬
}
function inheritPrototype(subType, superType) {
    var prototype = object(superType.prototype); // åˆ›å»ºå¯¹è±¡ï¼Œprototypeå®ä¾‹å¯¹è±¡çš„åŸå‹æŒ‡å‘SuperType.prototype
    // console.log(prototype); // FÂ {}
    //console.log(prototype.constructor); // SuperType(name)
    prototype.constructor = subType; // å¢å¼ºå¯¹è±¡  ä¸ºåˆ›å»ºçš„å‰¯æœ¬æ·»åŠ constructorå±æ€§ï¼Œä»è€Œå¼¥è¡¥ä¸‹ä¸€æ­¥é‡å†™å­ç±»åŸå‹è€Œè®©å­ç±»å¤±å»é»˜è®¤çš„constructorå±æ€§
    subType.prototype = prototype; // æŒ‡å®šå¯¹è±¡  å°†è¶…ç±»å‹åŸå‹çš„å‰¯æœ¬èµ‹å€¼ç»™å­ç±»åŸå‹ï¼Œè¿™æ ·å°±å®ç°äº†ç»§æ‰¿
    //console.log(subType.prototype.constructor); //SubType(name, age)
}

function SuperType(name) {
    this.name = name;
    this.colors = ['red', 'blue', 'green'];
}
SuperType.prototype.sayName = function() {
    console.log(this.name);
};

function SubType(name, age) {
    SuperType.call(this, name); //ç»§æ‰¿å±æ€§
    this.age = age;
}

// é€šè¿‡è°ƒç”¨inheritPrototypeæ–¹æ³•æ¥å®ç°SubType.prototype = new SuperType();è¯­å¥çš„ä½œç”¨
inheritPrototype(SubType, SuperType); // é€šè¿‡è¿™é‡Œå®ç°ç»§æ‰¿
SubType.prototype.sayAge = function() { // å­ç±»çš„åŸå‹æ–¹æ³•
    console.log(this.age);
};

var instance1 = new SubType('lisi', 12);
instance1.colors.push('black');
console.log(instance1.colors);  // ["red", "blue", "green", "black"]
instance1.sayName(); // lisi
instance1.sayAge(); // 12


var instance2 = new SubType('wangwu', 13);
console.log(instance2.colors);  // ["red", "blue", "green"] å¼•ç”¨ç±»å‹å±æ€§å…±äº«é—®é¢˜è§£å†³
instance2.sayName(); // wangwu
instance2.sayAge(); // 13
```
è¿™ç§æ–¹å¼çš„é«˜æ•ˆç‡ä½“ç°å®ƒåªè°ƒç”¨äº†ä¸€æ¬¡SuperTypeæ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†åœ¨SubType.prototypeä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ã€‚ä¸æ­¤åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨instanceofå’ŒisPrototypeOfã€‚å¼€å‘äººå‘˜æ™®éè®¤ä¸ºå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å¼•ç”¨ç±»å‹æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ã€‚
## jsç»§æ‰¿æ–¹å¼åŠå…¶ä¼˜ç¼ºç‚¹
<style>
table th:first-of-type {
	width: 100px;
}
</style>
| ç»§æ‰¿æ–¹å¼       | ä¼˜ç‚¹          | ç¼ºç‚¹  |
| ------------- | :------------- | :-----|
| åŸå‹é“¾ç»§æ‰¿     | - | 1. å¼•ç”¨ç±»å‹çš„åŸå‹å±æ€§å°†è¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼›2. åˆ›å»ºå­ç±»å®ä¾‹çš„æ—¶å€™ï¼Œæ— æ³•å‘çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¼ é€’å‚æ•° |
| å€Ÿç”¨æ„é€ å‡½æ•°ï¼ˆç±»å¼ç»§æ‰¿ï¼‰| -     | å€Ÿç”¨æ„é€ å‡½æ•°è™½ç„¶è§£å†³äº†åˆšæ‰ä¸¤ç§é—®é¢˜ï¼Œä½†æ²¡æœ‰åŸå‹ï¼Œåˆ™å¤ç”¨æ— ä»è°ˆèµ·ã€‚ |
| ç»„åˆå¼ç»§æ‰¿ | æ—¢é€šè¿‡åœ¨åŸå‹ä¸Šå®šä¹‰æ–¹æ³•å®ç°äº†å‡½æ•°å¤ç”¨ï¼Œåˆä¿è¯æ¯ä¸ªå®ä¾‹éƒ½æœ‰å®ƒè‡ªå·±çš„å±æ€§ã€‚| æœ€å¤§çš„é—®é¢˜ï¼šæ— è®ºä»€ä¹ˆæƒ…å†µä¸‹ï¼Œéƒ½ä¼šè°ƒç”¨ä¸¤æ¬¡è¶…ç±»å‹æ„é€ å‡½æ•°ã€‚ä¸€æ¬¡æ˜¯åœ¨åˆ›å»ºå­ç±»åŸå‹çš„æ—¶å€™ï¼Œå¦ä¸€æ¬¡æ˜¯åœ¨å­ç±»å‹æ„é€ å‡½æ•°å†…éƒ¨ã€‚å­ç±»å‹æœ€ç»ˆä¼šåŒ…å«è¶…ç±»å‹å¯¹è±¡çš„å…¨éƒ¨å®ä¾‹å±æ€§ï¼Œä½†æˆ‘ä»¬ä¸å¾—ä¸åœ¨è°ƒç”¨å­ç±»å‹æ„é€ å‡½æ•°æ—¶é‡å†™è¿™äº›å±æ€§ã€‚è¿™æ ·å°±ä¼šå¯¼è‡´åœ¨å­ç±»åŸå‹ä¸Šåˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ã€‚ |
| åŸå‹å¼ç»§æ‰¿     | - | å¼•ç”¨ç±»å‹å€¼çš„å±æ€§å§‹ç»ˆéƒ½ä¼šå…±äº«ç›¸åº”çš„å€¼ |
| å¯„ç”Ÿå¼ç»§æ‰¿     | - | è·Ÿå€Ÿç”¨æ„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³• |
| å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿  | è°ƒç”¨ä¸€æ¬¡è¶…ç±»å‹æ„é€ å‡½æ•°ï¼Œé¿å…åœ¨å­ç±»åŸå‹ä¸Šåˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ | - |

## éæ„é€ å‡½æ•°çš„ç»§æ‰¿
### æµ…æ‹·è´ç»§æ‰¿
æŠŠçˆ¶å¯¹è±¡çš„å±æ€§ï¼Œå…¨éƒ¨æ‹·è´ç»™å­å¯¹è±¡ï¼Œä¹Ÿèƒ½å®ç°ç»§æ‰¿ã€‚
```js
let Parent = {
	name: 'lisi',
	friends: ['wangwu','zhaoliu']
};
function extendCopy(p) {
	let c = {};
	for(let i in p) {
		c[i] = p[i];
	}
	return c;
}
let Child = extendCopy(Parent);
Child.age = 23;
Child.friends.push('zhangsan');
console.log(Child.name); // lisi
console.log(Child.friends); // ["wangwu", "zhaoliu", "zhangsan"]
console.log(Parent.friends); // ["wangwu", "zhaoliu", "zhangsan"]
```
::: warning
ç¼ºç‚¹ï¼šè¿™æ ·çš„æ‹·è´æœ‰ä¸€ä¸ªé—®é¢˜ã€‚é‚£å°±æ˜¯ï¼Œå¦‚æœçˆ¶å¯¹è±¡çš„å±æ€§ç­‰äºæ•°ç»„æˆ–å¦ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå®é™…ä¸Šï¼Œå­å¯¹è±¡è·å¾—çš„åªæ˜¯ä¸€ä¸ªå†…å­˜åœ°å€ï¼Œè€Œä¸æ˜¯çœŸæ­£æ‹·è´ï¼Œå› æ­¤å­˜åœ¨çˆ¶å¯¹è±¡è¢«ç¯¡æ”¹çš„å¯èƒ½ã€‚ä¸Šä¾‹ä¸­çˆ¶å¯¹è±¡çš„friendså±æ€§å°±è¢«ä¿®æ”¹äº†ã€‚æ‰€ä»¥ï¼ŒextendCopyåªæ˜¯æ‹·è´åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œæˆ‘ä»¬æŠŠè¿™ç§æ‹·è´å«åš"æµ…æ‹·è´"ã€‚è¿™æ˜¯æ—©æœŸjQueryå®ç°ç»§æ‰¿çš„æ–¹å¼ã€‚
:::

### æ·±æ‹·è´ç»§æ‰¿
æ‰€è°“æ·±æ‹·è´ï¼Œå°±æ˜¯èƒ½å¤Ÿå®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„æ•°ç»„å’Œå¯¹è±¡çš„æ‹·è´ã€‚å®ƒçš„å®ç°å¹¶ä¸éš¾ï¼Œåªè¦é€’å½’è°ƒç”¨æµ…æ‹·è´å°±è¡Œäº†ã€‚jQueryåº“ä½¿ç”¨çš„å°±æ˜¯è¿™ç§ç»§æ‰¿æ–¹æ³•ã€‚
```js
let Parent = {
	name: 'lisi',
	friends: ['wangwu','zhaoliu']
};
function deepCopy(p, c) {
	var c = c || {};
	for(let i in p) {
		// å¦‚æœçˆ¶å…ƒç´ çš„å±æ€§æ˜¯å¯¹è±¡ç±»å‹å¹¶ä¸”æ˜¯æ•°ç»„ï¼Œåˆ™é€’å½’æ‹·è´
		if(typeof p[i] === 'object') {
			c[i] = (p[i].constructor === Array) ? [] : {};
			deepCopy(p[i],c[i]);
		} else {//å¦‚æœæ˜¯åŸºæœ¬ç±»å‹ï¼Œåˆ™ç›´æ¥æ‹·è´
			c[i] = p[i];
		}
	}
	return c;
}
let Child = deepCopy(Parent);
Child.friends.push("zhangsan");
console.log(Child.friends); // ["wangwu", "zhaoliu", "zhangsan"]
console.log(Parent.friends); // ["wangwu", "zhaoliu"]
```
## ES6ç»§æ‰¿ä¸ES5ç»§æ‰¿çš„åŒºåˆ«

## å‚è€ƒæ–‡æ¡£
1. [JavaScripté«˜çº§ç¨‹åºè®¾è®¡]()
2. [Javascript é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆä¸€ï¼‰ï¼šå°è£…](http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_encapsulation.html)
3. [Javascripté¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆäºŒï¼‰ï¼šæ„é€ å‡½æ•°çš„ç»§æ‰¿](http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_inheritance.html)
4. [Javascripté¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆä¸‰ï¼‰ï¼šéæ„é€ å‡½æ•°çš„ç»§æ‰¿](http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_inheritance_continued.html)
5. [å¦‚ä½•ç»§æ‰¿Dateå¯¹è±¡ï¼Ÿç”±ä¸€é“é¢˜å½»åº•å¼„æ‡‚JSç»§æ‰¿ã€‚](http://www.dailichun.com/2018/01/15/howtoextenddate.html)