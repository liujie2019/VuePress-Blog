---
title: 8. thisçš„å·¥ä½œåŸç†
---
::: tip
å†™ä½œä¸æ˜“ï¼ŒStaræ˜¯æœ€å¤§é¼“åŠ±ï¼Œæ„Ÿè§‰å†™çš„ä¸é”™çš„å¯ä»¥ç»™ä¸ªStarâ­ï¼Œè¯·å¤šå¤šæŒ‡æ•™ã€‚[Githubåœ°å€](https://github.com/liujie2019/VuePress-Blog)ã€‚
:::
## ç†è§£this
1. thisæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œä¸€ä¸ªå†…ç½®çš„å¼•ç”¨å˜é‡ï¼›
2. åœ¨å‡½æ•°ä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨thisï¼›
3. thisä»£è¡¨è°ƒç”¨å‡½æ•°çš„å½“å‰å¯¹è±¡ï¼›
4. åœ¨å®šä¹‰å‡½æ•°æ—¶ï¼Œthisè¿˜æ²¡æœ‰ç¡®å®šï¼Œåªæœ‰åœ¨å‡½æ•°æ‰§è¡Œæ—¶æ‰åŠ¨æ€ç¡®å®š(ç»‘å®š)çš„ã€‚

![](https://github.com/liujie2019/static_data/blob/master/img/20200403235941.png?raw=true)

::: tip
é‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼šthisè¦åœ¨å‡½æ•°æ‰§è¡Œæ—¶æ‰èƒ½ç¡®è®¤ï¼Œå®šä¹‰å‡½æ•°æ—¶æ— æ³•ç¡®è®¤ã€‚thisè¦åœ¨å‡½æ•°æ‰§è¡Œæ—¶æ‰èƒ½ç¡®è®¤ï¼Œå®šä¹‰å‡½æ•°æ—¶æ— æ³•ç¡®è®¤ã€‚thisè¦åœ¨å‡½æ•°æ‰§è¡Œæ—¶æ‰èƒ½ç¡®è®¤ï¼Œå®šä¹‰å‡½æ•°æ—¶æ— æ³•ç¡®è®¤ã€‚

ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ**å› ä¸ºthisæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ‰§è¡Œä¸Šä¸‹æ–‡éœ€è¦åœ¨ä»£ç æ‰§è¡Œçš„æ—¶å€™äº§ç”Ÿï¼Œè€Œä¸æ˜¯å®šä¹‰çš„æ—¶å€™**ã€‚
:::
## thisçš„å·¥ä½œåŸç†(5ç§æƒ…å†µ)
### å…¨å±€ä½œç”¨åŸŸå†…
å½“åœ¨å…¨å±€ä½œç”¨åŸŸå†…ä½¿ç”¨thisæ—¶ï¼Œå®ƒå°†ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œå³windowå¯¹è±¡ã€‚
ä¸¾ä¸ªğŸŒ°ï¼š
```js
function test(a) {
    this.a = a; // ç›¸å½“äºwindow.a = a;
}
test(3); // è¿™é‡Œç›¸å½“äºwindow.test(3)
// æ‰€ä»¥testå‡½æ•°ä¸­çš„thisæŒ‡å‘äº†window
console.log(a); // 3 è¿™é‡Œç›¸å½“äºä¸è®¿é—®window.a
```
å†æ¥çœ‹ä¸ªğŸŒ°ï¼š
```js
// è¿™é‡Œçš„å‡½æ•°testå®é™…æ˜¯è¢«Windowå¯¹è±¡è°ƒç”¨çš„
function test() {
    var name = 'lisi'; // è¿™é‡Œæ˜¯å±€éƒ¨å˜é‡name
    console.log(this.name); // undefined
    console.log(this); // WindowÂ {postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window,Â â€¦}
}
test(); //è¿™é‡Œç›¸å½“äºwindow.test();
```
### ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨
å½“åœ¨å…¨å±€ä½œç”¨åŸŸå†…è°ƒç”¨å‡½æ•°æ—¶ï¼Œthisä¹Ÿä¼šæŒ‡å‘å…¨å±€å¯¹è±¡ã€‚
ä¸¾ä¸ªğŸŒ°ï¼š
```js
var obj = {
    a: 0,
    b: 0,
    say: function(a, b) {
        var sayA = function(a) {
            console.log(this); // WindowÂ {postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window,Â â€¦}
            this.a = a;
        };
        var sayB = function(b) {
            console.log(this); // WindowÂ {postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window,Â â€¦}
            this.b = b;
        };
        sayA(a); // ä¸æ˜¯é€šè¿‡newæ“ä½œç¬¦æ¥è°ƒç”¨çš„ï¼Œä¹Ÿæ²¡æœ‰é€šè¿‡dot(.)æ¥è°ƒç”¨
        sayB(b); // ä¸æ˜¯é€šè¿‡newæ“ä½œç¬¦æ¥è°ƒç”¨çš„ï¼Œä¹Ÿæ²¡æœ‰é€šè¿‡dot(.)æ¥è°ƒç”¨
    }
}
obj.say(1, 1);
console.log(obj.a + '----' + obj.b); //0--0
console.log(window.a + '-----' + window.b); //1-----1
```
::: tip
è§£æï¼šå¯¹äºsayæ–¹æ³•ä¸­çš„sayAå’ŒsayBä¸­çš„thisæ¥è¯´ï¼š**ä¸æ˜¯é€šè¿‡newæ“ä½œç¬¦æ¥è°ƒç”¨çš„ï¼Œä¹Ÿæ²¡æœ‰é€šè¿‡dot(.)æ¥è°ƒç”¨**ï¼Œå› æ­¤thisæŒ‡å‘windowã€‚
:::
### ä½œä¸ºå¯¹è±¡æ–¹æ³•è°ƒç”¨
thisæŒ‡å‘è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ã€‚
ä¸¾ä¸ªğŸŒ°ï¼š
```js
var obj = {
    name: 'lisi',
    sayName: function() {
        // thisæŒ‡å‘obj
        console.log(this.name); // lisi
    }
}
obj.sayName();
```
å†æ¥çœ‹ä¸ªğŸŒ°ï¼š
```js
var name = 'wangwu';
var obj = {
    name: 'lisi',
    sayName: function() {
        console.log(this.name); // lisi(thisæŒ‡å‘çš„ä¹Ÿåªæ˜¯å®ƒä¸Šä¸€çº§çš„å¯¹è±¡)
    }
}
window.obj.sayName();
```
::: tip
å¯¹è±¡å­—é¢é‡obj = {}ï¼Œå˜é‡objå…¶å®ä¹Ÿæ˜¯windowå¯¹è±¡çš„å±æ€§ï¼Œæ‰€ä»¥å¯ä»¥è¿™æ ·æ¥è°ƒç”¨window.obj.sayName()ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°ä¸­æœ‰thisï¼Œè¿™ä¸ªå‡½æ•°ä¸­åŒ…å«å¤šä¸ªå¯¹è±¡ï¼Œå°½ç®¡è¿™ä¸ªå‡½æ•°æ˜¯è¢«æœ€å¤–å±‚çš„å¯¹è±¡æ‰€è°ƒç”¨ï¼Œ**thisæŒ‡å‘çš„ä¹Ÿåªæ˜¯å®ƒä¸Šä¸€çº§çš„å¯¹è±¡**ï¼Œæ‰€ä»¥è¿™é‡ŒthisæŒ‡å‘objï¼Œè€Œä¸æ˜¯windowã€‚
:::
```js
var obj = {
    name: 'wangwu',
    objInner: {
        name: 'lisi',
        sayName: function() {
            console.log(this.name); // lisi
        }
    }
}
obj.objInner.sayName();
```
::: tip
å¦‚æœä¸€ä¸ªå‡½æ•°ä¸­æœ‰thisï¼Œè¿™ä¸ªå‡½æ•°ä¸­åŒ…å«å¤šä¸ªå¯¹è±¡ï¼Œå°½ç®¡è¿™ä¸ªå‡½æ•°æ˜¯è¢«æœ€å¤–å±‚çš„å¯¹è±¡æ‰€è°ƒç”¨ï¼ŒthisæŒ‡å‘çš„ä¹Ÿåªæ˜¯å®ƒä¸Šä¸€çº§çš„å¯¹è±¡ã€‚
:::
```js
var obj = {
    name: 'wangwu',
    objInner: {
        sayName: function() {
            console.log(this.name); // undefined
        }
    }
}
obj.objInner.sayName();
```
::: tip
å°½ç®¡å¯¹è±¡objInnerä¸­æ²¡æœ‰å±æ€§nameï¼Œè¿™ä¸ªthisæŒ‡å‘çš„ä¹Ÿæ˜¯å¯¹è±¡objInnerï¼Œ**å› ä¸ºthisåªä¼šæŒ‡å‘å®ƒçš„ä¸Šä¸€çº§å¯¹è±¡ï¼Œä¸ç®¡è¿™ä¸ªå¯¹è±¡ä¸­æœ‰æ²¡æœ‰thisè¦çš„ä¸œè¥¿**ã€‚
:::
```js
 var obj = {
    name: 'wangwu',
    objInner: {
        name: 'lisi',
        sayName: function() {
            console.log(this.name); // undefined
            console.log(this); // WindowÂ {postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window,Â â€¦}
        }
    }
}
var fn = obj.objInner.sayName;
fn();
```
### ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨
åœ¨æ„é€ å‡½æ•°å†…éƒ¨ï¼ŒthisæŒ‡å‘æ–°åˆ›å»ºçš„å®ä¾‹å¯¹è±¡ã€‚
ä¸¾ä¸ªğŸŒ°ï¼š
```js
function Person(name, age) {
    this.name = name;
    this.age = age;
}
var person1 = new Person('lisi', 18);
console.log(person1.name); // lisi
var person2 = Person('wangwu', 12);
// person2æ˜¯undefinedï¼Œå› ä¸ºPersonå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œé»˜è®¤è¿”å›undefined
// console.log(person2.name); // Uncaught TypeError: Cannot read property 'name' of undefined
console.log(window.name); // wangwu
// Person('wangwu', 12)ç›¸å½“äºwindow.Person('wangwu', 12)
```
### æ˜¾å¼çš„è®¾ç½®thisæŒ‡å‘(callã€applyã€bind)
å½“ä½¿ç”¨callæˆ–è€…applyæ–¹æ³•æ—¶ï¼Œå‡½æ•°å†…çš„thiså°†ä¼šè¢«æ˜¾å¼è®¾ç½®ä¸ºå‡½æ•°è°ƒç”¨çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚
```js
function Test(a, b) {
    this.a = a;
    this.b = b;
    this.say = function(a, b) {
        this.a = a;
        this.b = b;
    }
}
var obj1 = new Test(1, 1);
var obj2 = {a: 2, b: 2};
obj1.say.call(obj2, 3, 3);
console.log(obj2.a + '----' + obj2.b); // 3----3
```
::: tip
è§£æï¼šapplyå’Œcallè¿™ä¸¤ä¸ªæ–¹æ³•åˆ‡æ¢å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå³å¯ä»¥æ”¹å˜thisæŒ‡å‘ã€‚obj1.say.call(obj2, 3, 3)å®é™…ä¸Šæ˜¯obj2.say(3, 3)ï¼Œæ‰€ä»¥sayä¸­çš„thiså°±æŒ‡å‘äº†obj2ã€‚
:::
```js
let fn = function(name, age) {
    console.log(name); // lisi
    console.log(this); // { a: 2 }
}.bind({a: 2});

fn('lisi', 12);
```
### ç®­å¤´å‡½æ•°thisæŒ‡å‘
**ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œçœ‹å…¶å¤–å±‚çš„æ˜¯å¦æœ‰å‡½æ•°ï¼Œå¦‚æœæœ‰ï¼Œå¤–å±‚å‡½æ•°çš„thiså°±æ˜¯å†…éƒ¨ç®­å¤´å‡½æ•°çš„thisï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™thisæ˜¯window**ã€‚
```js
const name = 'wangwu';
const obj = {
    name: 'lisi',
    sayName: function() {
        console.log(this); // {name: "lisi", sayName: Æ’}
        setTimeout(() => {
            console.log(this.name); // lisi
        }, 1000);
    }
};
obj.sayName();
```
<img :src="$withBase('/js/this.png')" alt="">

## ç›¸å…³é¢˜ç›®
### å½“thisç¢°åˆ°return
```js
function Fn() {
    this.username = 'ç‹äº”';
    return 1;
    // return undefined;
}
var a = new Fn();
console.log(a); // FnÂ {username: "ç‹äº”"}
console.log(a.username); // ç‹äº”

function Fn1() {
    this.username = 'ç‹äº”';
    return function(){};
}
var b = new Fn1();
console.log(b); // Æ’ (){}}
console.log(b.username); // undefined

function Fn2() {
    this.username = 'lisi';
    return {};
}
var obj = new Fn2();
console.log(obj); // Object{}
console.log(obj.username); // undefined

// è™½ç„¶nullä¹Ÿæ˜¯å¯¹è±¡ï¼Œä½†æ˜¯åœ¨è¿™é‡Œthisè¿˜æ˜¯æŒ‡å‘é‚£ä¸ªå‡½æ•°çš„å®ä¾‹ï¼Œå› ä¸ºnullæ¯”è¾ƒç‰¹æ®Š
function Fn3() {
    this.username = 'ç‹äº”';
    return null;
}
var a = new Fn3();
console.log(a); // Fn3Â {username: "ç‹äº”"}
console.log(a.username); // ç‹äº”
```
::: tip
å¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°ï¼Œé‚£ä¹ˆthisæŒ‡å‘çš„å°±æ˜¯é‚£ä¸ªè¿”å›çš„å¯¹è±¡ï¼›å¦‚æœè¿”å›å€¼ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆthisè¿˜æ˜¯æŒ‡å‘å‡½æ•°çš„å®ä¾‹ã€‚
:::
### demo2
```js
function Foo() {
    // ä¼šè¦†ç›–å…¨å±€çš„getNameæ–¹æ³•
    getName = function() {
        // console.log('----', this);
        console.log(1);
    }
    return this;
}
Foo.getName = function() { // ç›¸å½“äºé™æ€æ–¹æ³•
    console.log(2);
}
Foo.prototype.getName = function() {
    console.log(3);
}
var getName = function() {
    console.log(4);
}
// ä¼šè¢«è¦†ç›–
function getName() {
    console.log(5);
}

Foo.getName(); // 2
getName(); // 4
// Foo()å½“åšæ™®é€šå‡½æ•°è°ƒç”¨ï¼ŒthisæŒ‡å‘window
Foo().getName(); // 1
getName(); // 1

// è®¾è®¡jsè¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼Œå‚è€ƒmdn
new Foo.getName(); // 2
// Foo()å½“åšæ„é€ å‡½æ•°è°ƒç”¨ï¼ŒthisæŒ‡å‘å½“å‰å®ä¾‹å¯¹è±¡ï¼Œç›¸å½“äºè°ƒç”¨FooåŸå‹ä¸Šçš„getName
new Foo().getName(); // 3
new new Foo().getName(); // 3
```
[è¿ç®—ç¬¦ä¼˜å…ˆçº§](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence)
### demo3
```js
const obj = {
    name: 'lisi',
    say() {
        console.log(this.name);
    },
    read: () => {
        console.log(this.name);
    }
}
obj.say(); // lisi
obj.read(); // undefined
```
è§£æï¼š
1. sayæ˜¯æ™®é€šå‡½æ•°ä¸”å‰é¢æœ‰ç‚¹(.)ï¼Œå³è°ƒç”¨è€…æ˜¯objï¼Œå› æ­¤å‡½æ•°sayä¸­çš„thisæŒ‡å‘objï¼Œæ‰€ä»¥è¾“å‡ºlisiã€‚
2. readæ˜¯ç®­å¤´å‡½æ•°ï¼ŒthisæŒ‡å‘å‡½æ•°æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œå½“å‰çš„ä½œç”¨åŸŸä¸ºå…¨å±€ç¯å¢ƒï¼Œå³thisæŒ‡å‘windowï¼Œæ‰€ä»¥è¾“å‡ºundefinedã€‚

æ€»ç»“ï¼š
1. æ™®é€šå‡½æ•°ä¸­çš„thisæŒ‡å‘å‡½æ•°çš„è°ƒç”¨è€…ï¼Œæœ‰ä¸ªç®€ä¾¿çš„æ–¹æ³•å°±æ˜¯çœ‹ï¼š**å‡½æ•°å‰é¢æœ‰æ²¡æœ‰ç‚¹(.)ï¼Œå¦‚æœæœ‰ç‚¹ï¼Œé‚£ä¹ˆå°±æŒ‡å‘ç‚¹å‰é¢çš„é‚£ä¸ªå¯¹è±¡**ï¼›
2. ç®­å¤´å‡½æ•°ä¸­çš„thisæŒ‡å‘å‡½æ•°æ‰€åœ¨çš„ä½œç”¨åŸŸï¼šæ³¨æ„ç†è§£ä½œç”¨åŸŸï¼Œåªæœ‰å‡½æ•°çš„{}æ‰æ„æˆä½œç”¨åŸŸï¼Œå¯¹è±¡çš„{}ä»¥åŠif(){}éƒ½ä¸æ„æˆä½œç”¨åŸŸã€‚

```js
const obj = {
    say: function () {
        setTimeout(() => {
            console.log(this)
        });
    }
}
obj.say(); // obj æ­¤æ—¶ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘ä¸ºå…¶åŒ…å«å‡½æ•°sayä¸­çš„thisæŒ‡å‘
// sayæ˜¯æ™®é€šå‡½æ•°ï¼Œä¸”å‰é¢æœ‰ç‚¹ï¼Œå› æ­¤sayä¸­çš„thisæŒ‡å‘ä¸ºobj
```
### demo4
```js
var length = 10;
function fn() {
 console.log(this.length);
}

const obj = {
    length: 5,
    method: function(fn) {
        fn(); // 10
        arguments[0](); // 2
    }
};

obj.method(fn, 1);
```
1. methodè¿™ä¸ªå‡½æ•°ä¼ å…¥äº†ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå‚æ•°ä¸ºfn()ï¼Œfn()ä¸ºæ™®é€šå‡½æ•°ï¼ŒthisæŒ‡å‘å‡½æ•°çš„è°ƒç”¨è€…ï¼Œæ­¤æ—¶æŒ‡å‘å…¨å±€(ä¹Ÿå¯ä»¥çœ‹è¿™ä¸ªå‡½æ•°å‰é¢æ²¡æœ‰ç‚¹)ï¼Œæ‰€ä»¥è¾“å‡ºç»“æœä¸º10ï¼›
2. argumentsæ˜¯å‡½æ•°çš„æ‰€æœ‰å‚æ•°ï¼Œæ˜¯ä¸€ä¸ªç±»æ•°ç»„çš„å¯¹è±¡ï¼Œarguments[0]()ï¼Œå¯ä»¥çœ‹æˆæ˜¯arguments.0()ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ˜¯argumentsï¼Œæ­¤æ—¶thiså°±æ˜¯æŒ‡argumentsï¼Œthis.lengthå°±æ˜¯angument.lengthï¼Œå°±æ˜¯ä¼ å…¥çš„å‚æ•°çš„æ€»ä¸ªæ•°2ã€‚

ä¸Šè¿°ä¾‹å­åœ¨nodeç¯å¢ƒä¸­çš„è¿è¡Œç»“æœä¸ºundefined 2ï¼Œvar length = 10æ”¹æˆglobal.length = 10;æ˜¯å› ä¸º**nodeç¯å¢ƒä¸‹å®šä¹‰åœ¨å…¨å±€çš„å˜é‡ä¸ä¼šç»‘å®šåˆ°globalï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†å˜é‡lengthç»‘å®šåˆ°å…¨å±€å¯¹è±¡windowä¸Š**ã€‚

ç¨å¾®æ”¹ä¸€ä¸‹ï¼š
```js
let length = 10; // è¿™é‡Œå°†varæ”¹ä¸ºlet
function fn() {
 console.log(this.length);
}

const obj = {
    length: 5,
    method: function(fn) {
        fn(); // 0(å‡†ç¡®çš„è¯´æ˜¯å½“å‰æµè§ˆå™¨çª—å£ä¸­iframeçš„ä¸ªæ•°)
        arguments[0](); // 2
    }
};

obj.method(fn, 1);
```
ç”¨letæˆ–è€…constæ¥å®šä¹‰lengthï¼Œç„¶åè¾“å‡ºçš„æ˜¯0å’Œ2ã€‚
è¿™æ˜¯å› ä¸ºï¼švaråœ¨å…¨å±€å®šä¹‰çš„å˜é‡ä¼šè‡ªåŠ¨ç»‘å®šåˆ°windowå¯¹è±¡ä¸Šï¼Œä½†æ˜¯constå’Œletåœ¨å…¨å±€å®šä¹‰çš„å˜é‡ä¸ä¼šè‡ªåŠ¨ç»‘å®šåˆ°windowå¯¹è±¡ä¸Šã€‚æ”¹æˆleåï¼Œhæ‰“å°window.lengthä¸º0ï¼Œæ˜¯å› ä¸º**window.lengthè¡¨ç¤ºå½“å‰é¡µé¢æœ‰å‡ ä¸ªiframe**ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹MDNä¸Šå…³äºwindow.lengthçš„å®šä¹‰ã€‚

å†æ¥æ”¹ä¸€ä¸‹ï¼š
```js
var length = 10;

function fn() {
    console.log(this.length);
}

const obj = {
    length: 5,
    method: function(fn) {
        fn(); // 10
        const fun = arguments[0];
        fun(); // 10  è¿˜æ˜¯é‚£å¥è¯ï¼Œå‡½æ•°çš„thisæŒ‡å‘éœ€è¦ç­‰åˆ°å‡½æ•°è°ƒç”¨æ—¶æ‰èƒ½ç¡®å®šï¼Œè¿™é‡ŒæŒ‡å‘window
    }
};

obj.method(fn, 1);
```
### demo5
```js
window.val = 1;
var obj = {
    val: 2,
    say: function() {
        this.val *= 2;
        val *= 2;
        console.log(val);
        console.log(this.val);
    }
}
obj.say(); // 2 4
var func = obj.say;
func(); // 8 8
```
obj.say();æ‰§è¡Œè¿™è¡Œä»£ç æ—¶ï¼ŒthisæŒ‡çš„æ˜¯objï¼Œæ‰€ä»¥this.val => obj.val*=2ï¼Œæœ€åç»“æœä¸º4ï¼Œval*=2 => window.val *= 2ï¼Œæœ€åç»“æœæ˜¯2ã€‚

func()ï¼Œæ‰§è¡Œè¿™è¡Œä»£ç æ—¶ï¼Œfunc()æ²¡æœ‰ä»»ä½•å‰ç¼€ï¼ŒthisæŒ‡çš„æ˜¯window.func();æ‰€ä»¥æ­¤æ—¶thisæŒ‡å‘çš„æ˜¯windowï¼Œthis.val => window.val*=2ï¼Œæ­¤æ—¶window.valä¸º4ï¼Œval*=2 => window.val *2ï¼Œæœ€åç»“æœä¸º8ï¼Œæœ€åconsole.log(this.val)ä¸console.log(val)æŒ‡çš„éƒ½æ˜¯window.valï¼Œæœ€åç»“æœéƒ½æ˜¯8ã€‚

### è¡¥å……çŸ¥è¯†ç‚¹
æµè§ˆå™¨é»˜è®¤çš„thisä¸ºwindowã€‚
```js
function test() {
    console.log(this);
}
test(); // window
```
node.jsä¸­å…¨å±€ç¯å¢ƒé»˜è®¤thisä¸º{}ï¼Œæ™®é€šå‡½æ•°ä¸­é»˜è®¤thisä¸ºglobalã€‚
```js
console.log(this); // {}
function test() {
   console.log(this === global); // true
}
test();
```
## å‚è€ƒæ–‡æ¡£
1. [JavaScript çš„ this åŸç†](http://www.ruanyifeng.com/blog/2018/06/javascript-this.html)