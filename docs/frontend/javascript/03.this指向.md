---
title: 执行上下文
---
## 执行上下文
![2571a54198a2a21ab9899a316e258a66.png](evernotecid://AC85336C-B325-443E-8ED7-E6554790A944/appyinxiangcom/10797539/ENResource/p1047)

* 范围：一段`<script>`或者一个函数
* 全局：变量定义、函数声明 (一段`<script>`)
* 函数：变量定义、函数声明、this、arguments
### this
>重要的事情说三遍：this要在执行时才能确认，定义时无法确认。this要在执行时才能确认，定义时无法确认。this要在执行时才能确认，定义时无法确认。

![b3a16651c2e07117780f4db8e20e6ce0.png](evernotecid://AC85336C-B325-443E-8ED7-E6554790A944/appyinxiangcom/10797539/ENResource/p1049)
### this使用场景

* 作为构造函数执行；
* 作为对象属性执行；
* 作为普通函数执行；
* call、apply、bind

>bind:

![3abf92e4e1122529fe48aad498f10058.png](evernotecid://AC85336C-B325-443E-8ED7-E6554790A944/appyinxiangcom/10797539/ENResource/p1051)
```js
function Foo() {
    getName = function() {
        console.log(1);
    }
    return this;
}
Foo.getName = function() {
    console.log(2);
}
Foo.prototype.getName = function() {
    console.log(3);
}
var getName = function() {
    console.log(4);
}
function getName() {
    console.log(5);
}

Foo.getName(); // 2
getName(); // 4
Foo().getName(); // 1
getName(); // 1
new Foo().getName(); // 3
```
## this的工作原理(5种情况)
### 全局作用域内
当在全局作用域内使用this时，它将会指向全局对象，即window对象。
### 函数调用
挡在全局作用域内调用函数时，this 也会指向全局对象。
### 方法调用
this指向调用该方法的对象。
### 调用构造函数
在构造函数内部，this 指向新创建的对象。
### 显式的设置this指向
当使用call或者apply方法时，函数内的this将会被显式设置为函数调用的第一个参数。
**更详细用法请见之前的博客：**[传送门](http://blog.csdn.net/liujie19901217/article/details/51297782)

## 参考文档
1. [JavaScript 的 this 原理](http://www.ruanyifeng.com/blog/2018/06/javascript-this.html)
2.