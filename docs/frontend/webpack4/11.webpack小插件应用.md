---
title: 11. webpack小插件应用
---
## clean-webpack-plugin
每次打包之前先删除dist目录(即webpack配置的打包输出目录)下的文件。

```bash
yarn add clean-webpack-plugin -D
```
```js
const CleanWebpackPlugin = require('clean-webpack-plugin');
output: {
    path: path.resolve(process.cwd(), 'dist')
},
plugins: [
    new CleanWebpackPlugin()
]
```
## copy-webpack-plugin
将静态资源拷贝到打包输出目录dist中。
```bash
yarn add copy-webpack-plugin -D
```
```js
const CopyWebpackPlugin = require('copy-webpack-plugin');
const config = {
  plugins: [
     new CopyPlugin([ // 复制静态资源到指定目录
        { from: 'src/assets/', to: 'dist/assets/' }
     ])
  ]
}
```
## BannerPlugin
该插件是webpack内置模块，用于版权声明。
```js
const webpack = require('webpack');

new webpack.BannerPlugin('edit by liujie');
// or
new webpack.BannerPlugin({
    banner: 'edit by liujie'
});
```
## IgnorePlugin
这是webpack内置插件，其作用是：忽略第三方包指定目录，让这些指定目录不要被打包进去，从而加快打包速度，减小打包文件体积。
```js
// moment这个库中，如果引用了./locale/目录的内容，就忽略掉，不会被打包
// 默认会将所有语言都打包进去的。这样就导致打包文件很大，打包速度变慢
new webpack.IgnorePlugin(/\.\/locale/, /moment/),
```
```js
import moment from 'moment';

// 手动引入所需要的语言包，因为在webpack配置中忽略所有语言包
import 'moment/locale/zh-cn';
// 设置语言
moment.locale('zh-cn');

console.log(moment(new Date()).format('YYYY-MM-DD HH:mm:ss')); // 2019-09-27 14:27:01
```
>未使用IgnorePlugin的打包体积：

<img :src="$withBase('/webpack4/ingnore2.png')" alt="">

>使用IgnorePlugin的打包体积：

<img :src="$withBase('/webpack4/ignore.png')" alt="">

# progress-bar-webpack-plugin
```bash
yarn add progress-bar-webpack-plugin chalk -D
```
```js
const ProgressBarPlugin = require('progress-bar-webpack-plugin');
const chalk = require('chalk');

// 配置如下
new ProgressBarPlugin({
    format: '  build [:bar] ' + chalk.green.bold(':percent') + ' (:elapsed seconds)',
    clear: false
}),
```